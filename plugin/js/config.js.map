{"version":3,"file":"config.js","mappings":"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","sources":["webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/@shin-chan/kypes/src/index.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/dist/common.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/dist/config-builder.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/dist/config-manager.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/dist/config-utilities.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/dist/field-builder.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/dist/incremental-table-builder.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/dist/index.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintoneplugin-config-migrator/node_modules/kintoneplugin-commonutils/dist/button_installer.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintoneplugin-config-migrator/node_modules/kintoneplugin-commonutils/dist/index.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintoneplugin-config-migrator/node_modules/kintoneplugin-commonutils/dist/plugin_canvas.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintoneplugin-config-migrator/node_modules/kintoneplugin-commonutils/dist/utils.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/node_modules/@shin-chan/kypes/src/index.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/node_modules/commonutils/dist/button_installer.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/node_modules/commonutils/dist/index.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/node_modules/commonutils/dist/plugin_canvas.js","webpack://kintan_lab_chatgpt_sample_plugin/../lib/KintoneConfigBuilder.ts/node_modules/commonutils/dist/utils.js","webpack://kintan_lab_chatgpt_sample_plugin/webpack/bootstrap","webpack://kintan_lab_chatgpt_sample_plugin/./src/ts/constants.ts","webpack://kintan_lab_chatgpt_sample_plugin/./src/ts/config/settings.ts","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/@lit/reactive-element/css-tag.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/@lit/reactive-element/reactive-element.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/lit-html/lit-html.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/lit-element/lit-element.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/@lit/reactive-element/decorators/property.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/@lit/reactive-element/decorators/query-assigned-elements.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/lit-html/directive.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/lit-html/directives/unsafe-html.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintone-ui-component/lib/base/datetime/utils/index.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintone-ui-component/lib/base/converter.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintone-ui-component/lib/base/kuc-base.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintone-ui-component/lib/button/index.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintone-ui-component/lib/base/validator.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintone-ui-component/lib/button/style.js","webpack://kintan_lab_chatgpt_sample_plugin/./node_modules/kintoneplugin-config-migrator/src/config-migrator.js","webpack://kintan_lab_chatgpt_sample_plugin/./src/ts/config/main.ts"],"sourcesContent":["module.exports = {};\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isSecretItem = exports.FieldType = void 0;\nvar FieldType;\n(function (FieldType) {\n    FieldType[FieldType[\"Dropdown\"] = 0] = \"Dropdown\";\n    FieldType[FieldType[\"Dropdown_FieldSelect\"] = 1] = \"Dropdown_FieldSelect\";\n    FieldType[FieldType[\"Radio\"] = 2] = \"Radio\";\n    FieldType[FieldType[\"Text\"] = 3] = \"Text\";\n    FieldType[FieldType[\"Number\"] = 4] = \"Number\";\n    FieldType[FieldType[\"MultilineText\"] = 5] = \"MultilineText\";\n    FieldType[FieldType[\"Checkbox\"] = 6] = \"Checkbox\";\n    FieldType[FieldType[\"IncrementalTable\"] = 7] = \"IncrementalTable\";\n    FieldType[FieldType[\"Label\"] = 8] = \"Label\";\n    FieldType[FieldType[\"Separator\"] = 9] = \"Separator\";\n})(FieldType = exports.FieldType || (exports.FieldType = {}));\nfunction isSecretItem(item) {\n    return 'secret' in item;\n}\nexports.isSecretItem = isSecretItem;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigBuilder = void 0;\nrequire(\"@shin-chan/kypes\");\nconst commonutils_1 = require(\"commonutils\");\nconst config_utilities_1 = require(\"./config-utilities\");\nconst common_1 = require(\"./common\");\nconst field_builder_1 = require(\"./field-builder\");\nconst incremental_table_builder_1 = require(\"./incremental-table-builder\");\nclass ConfigBuilder {\n    static LAYOUT_PARTS = [\"SPACER\"];\n    props = undefined;\n    layout = undefined;\n    config = undefined;\n    field_builder;\n    constructor(props, config) {\n        this.props = props;\n        this.config = config;\n        this.field_builder = new field_builder_1.FieldBuilder(props);\n    }\n    static is_layout_info(type) {\n        if (ConfigBuilder.LAYOUT_PARTS.includes(type)) {\n            return true;\n        }\n        return false;\n    }\n    static is_includes_layout_info(types) {\n        const is_includes = types.reduce((prev, curr) => {\n            if (ConfigBuilder.is_layout_info(curr)) {\n                prev = true;\n            }\n            return prev;\n        }, false);\n        return is_includes;\n    }\n    build_incremental_table(input_field, saved_rows) {\n        console.log({ input_field });\n        console.log({ saved_rows });\n        const table_builder = new incremental_table_builder_1.IncrementalTableBuilder(input_field, saved_rows, this.field_builder);\n        const table_rows = table_builder.build();\n        const table_cols = input_field.table_cols;\n        const elements_th = table_cols.map((column) => {\n            const el_span = commonutils_1.Utils.createElement('span', 'title');\n            el_span.textContent = column.header;\n            const th = commonutils_1.Utils.createElement('th', 'kintoneplugin-table-th', [el_span]);\n            return th;\n        });\n        elements_th.push(commonutils_1.Utils.createElement('th', 'kintoneplugin-table-th-blankspace'));\n        const tr = commonutils_1.Utils.createElement('tr', '', elements_th);\n        const thead = commonutils_1.Utils.createElement('thead', '', [tr]);\n        const tbody = commonutils_1.Utils.createElement('tbody', '', table_rows);\n        const incremental_table = commonutils_1.Utils.createElement('table', 'kintoneplugin-table ms-0', [thead, tbody], '', {\n            'id': `table-${input_field.code}`\n        });\n        return incremental_table;\n    }\n    static get_grand_tr(target) {\n        if (target == null) {\n            throw 'ERROR: nullが渡されたため祖父要素を取得できません';\n        }\n        const self = target;\n        const parent_td = self?.parentNode;\n        const grand_tr = parent_td?.parentNode;\n        return grand_tr;\n    }\n    static get_formparts(props, accept_types = []) {\n        const lists = {};\n        for (const key in props) {\n            if (!props.hasOwnProperty(key)) {\n                continue;\n            }\n            const prop = props[key];\n            const label = prop.label;\n            const code = prop.code;\n            const type = prop.type;\n            if (accept_types.includes(type)) {\n                lists[code] = {\n                    'code': code,\n                    'label': label,\n                    'option': type\n                };\n            }\n        }\n        const array = Object.keys(lists).map((k) => ({\n            key: k, value: lists[k]\n        }));\n        const sorted = array.sort((a, b) => {\n            const str_a = a.value.label.toString().toLowerCase();\n            const str_b = b.value.label.toString().toLowerCase();\n            if (str_a < str_b)\n                return -1;\n            else if (a > b)\n                return 1;\n            return 0;\n        });\n        const sorted_dic = Object.assign({}, ...sorted.map((item) => ({\n            [item.key]: item.value,\n        })));\n        return sorted_dic;\n    }\n    static addOnChangeEvent(select_set) {\n        for (const select of select_set) {\n            select.addEventListener('change', (event) => {\n                const target = event.target;\n                if (target == null) {\n                    return;\n                }\n                const selected = target[target.selectedIndex];\n                let option = selected.getAttribute('option');\n                if (option == null) {\n                    option = \"\";\n                }\n                let code = selected.getAttribute('code');\n                if (code == null) {\n                    code = \"\";\n                }\n                const ancestor = target.closest('tr');\n                console.log(ancestor);\n                if (ancestor == null) {\n                    return;\n                }\n                const inputs = ancestor.getElementsByTagName('input');\n                inputs[0].value = option;\n                inputs[1].value = code;\n            });\n        }\n    }\n    build_fields_dropdown(props, accepts, selected_fieldcode = \"\", selected_node_id = \"\", empty_label = null, show_fc = false) {\n        const field_dropdown = commonutils_1.Utils.createElement('select', 'select-kintone-field');\n        field_dropdown.id = selected_node_id;\n        if (empty_label != null) {\n            const empty_item = commonutils_1.Utils.createElement('option');\n            empty_item.label = empty_label;\n            field_dropdown.appendChild(empty_item);\n        }\n        const parts = ConfigBuilder.get_formparts(props, accepts);\n        const items = this.field_builder.compose_fielditems(parts, selected_fieldcode, show_fc);\n        items.forEach((item) => {\n            field_dropdown.appendChild(item);\n        });\n        return commonutils_1.Utils.createElement('div', '', [\n            commonutils_1.Utils.createElement('div', \"kintoneplugin-select-outer\", [\n                commonutils_1.Utils.createElement('div', 'kintoneplugin-select', [field_dropdown])\n            ])\n        ]);\n    }\n    async build_fields_dropdown_other_app(app_id, accepts, selected_label = \"\", selected_node_id = \"\", empty_label = null) {\n        if (app_id == undefined || app_id == config_utilities_1.ConfigUtilities.DEFAULT_OPTION) {\n            const empty_dropdown = commonutils_1.Utils.createElement('select', 'select-kintone-field');\n            empty_dropdown.id = selected_node_id;\n            if (empty_label != null) {\n                const empty_item = commonutils_1.Utils.createElement('option');\n                empty_item.label = empty_label;\n                empty_dropdown.appendChild(empty_item);\n            }\n            return commonutils_1.Utils.createElement('div', '', [\n                commonutils_1.Utils.createElement('div', \"kintoneplugin-select-outer\", [\n                    commonutils_1.Utils.createElement('div', 'kintoneplugin-select', [empty_dropdown])\n                ])\n            ]);\n        }\n        const resp_fields = await kintone.api('/k/v1/app/form/fields', 'GET', {\n            app: parseInt(app_id)\n        });\n        return this.build_fields_dropdown(resp_fields.properties, accepts, selected_label, selected_node_id, empty_label);\n    }\n    static make_parts_block(main_node, title, comment, block_class = \"\", flg_required = false, flg_secret = false) {\n        console.log('make_parts_block()');\n        const comment_node = commonutils_1.Utils.buildElement({\n            tagName: 'div',\n            className: 'mb-3',\n            innerHTML: comment\n        });\n        const caption_node = commonutils_1.Utils.buildElement({\n            tagName: 'div',\n            className: 'h4 mb-2',\n            textContent: title\n        });\n        if (flg_required) {\n            const badge = commonutils_1.Utils.buildElement({\n                tagName: 'span',\n                className: 'text-danger',\n                textContent: '*'\n            });\n            caption_node.appendChild(badge);\n        }\n        if (flg_secret) {\n            const badge = commonutils_1.Utils.buildElement({\n                tagName: 'span',\n                className: 'badge bg-secondary rounded-pill ms-2',\n                textContent: 'secret'\n            });\n            caption_node.appendChild(badge);\n        }\n        const block = commonutils_1.Utils.buildElement({\n            tagName: 'div',\n            className: block_class + ' ms-4 mt-4',\n            childElements: [\n                caption_node,\n                comment_node,\n                main_node\n            ]\n        });\n        return block;\n    }\n    static addFieldSelectEvent(parent_dropdown, parent_fieldcode, appid, selected_fieldcode = undefined) {\n        kintone.api('/k/v1/app/form/fields', 'GET', {\n            app: appid\n        }).then((resp_fields) => {\n            const fields = Object.keys(resp_fields.properties).map((prop) => {\n                return resp_fields.properties[prop];\n            });\n            const single_line_items = fields.filter((prop) => {\n                return prop.type == 'SINGLE_LINE_TEXT';\n            }).map((field) => {\n                return {\n                    'code': field.code,\n                    'label': field.label,\n                    'option': field.type\n                };\n            }).map((dd_item) => {\n                const item = commonutils_1.Utils.createElement('option', '');\n                item.label = dd_item.label;\n                item.setAttribute('code', dd_item.code);\n                item.setAttribute('option', dd_item.option);\n                if (dd_item.code == selected_fieldcode) {\n                    item.setAttribute('selected', '');\n                }\n                return item;\n            });\n            const select = commonutils_1.Utils.createElement('select', `select-kintone-field`, single_line_items);\n            select.addEventListener('change', (event) => {\n                console.log({ event });\n                const target = event.target;\n                if (target == null) {\n                    return;\n                }\n                const selected = target[target.selectedIndex];\n                const td_fieldcode = make_fieldcode_cell(selected);\n                parent_fieldcode.firstChild?.remove();\n                parent_fieldcode.appendChild(td_fieldcode);\n            });\n            const make_fieldcode_cell = (selected) => {\n                let fieldcode;\n                if (selected) {\n                    fieldcode = selected.getAttribute('code');\n                    if (fieldcode == null) {\n                        fieldcode = \"\";\n                    }\n                }\n                else {\n                    fieldcode = \"\";\n                }\n                const node_input = commonutils_1.Utils.createElement('input', 'kintoneplugin-input-text', []);\n                node_input.setAttribute('value', fieldcode);\n                node_input.setAttribute('disabled', '');\n                const el_td = commonutils_1.Utils.createElement('td', 'kintoneplugin-table-td-control', [\n                    commonutils_1.Utils.createElement('div', 'kintoneplugin-table-td-control-value', [\n                        commonutils_1.Utils.createElement('div', 'kintoneplugin-input-outer', [\n                            node_input\n                        ])\n                    ])\n                ]);\n                return el_td;\n            };\n            const node_dropdown = commonutils_1.Utils.createElement('div', 'kintoneplugin-table-td-control-value', [\n                commonutils_1.Utils.createElement('div', \"kintoneplugin-select-outer\", [\n                    commonutils_1.Utils.createElement('div', 'kintoneplugin-select', [select])\n                ])\n            ]);\n            parent_dropdown.firstChild?.remove();\n            parent_dropdown.appendChild(node_dropdown);\n            parent_fieldcode.firstChild?.remove();\n            const selected = select.item(select.selectedIndex);\n            const td_fieldcode = make_fieldcode_cell(selected);\n            parent_fieldcode.appendChild(td_fieldcode);\n        });\n    }\n    static set_switch_event(node_radio, event_type, callback_object) {\n        const input_radios = node_radio.querySelectorAll('input[type=\"radio\"]');\n        input_radios.forEach((input) => {\n            input.addEventListener(event_type, callback_object);\n        });\n    }\n    make_string_block(input_field, type = 'text') {\n        if (this.config == undefined || this.props == undefined) {\n            throw new Error('インスタンスが初期化されていません');\n        }\n        const fieldcode = input_field.code;\n        const saved_value = this.get_saved_value(this.config, input_field);\n        console.log({ saved_value });\n        const id = `${type}-${fieldcode}`;\n        const el_str = commonutils_1.Utils.createElement('div', 'kintoneplugin-input-outer', [\n            commonutils_1.Utils.ce('input', 'kintoneplugin-input-text', [], '', {\n                'type': type,\n                'id': id,\n                'value': saved_value\n            })\n        ]);\n        const flg_required = ((item) => {\n            return 'required' in item && item.required == true;\n        })(input_field);\n        const flg_secret = ((item) => {\n            if ((0, common_1.isSecretItem)(item)) {\n                return ('secret' in item) && (item.secret == true);\n            }\n            return false;\n        })(input_field);\n        const node_block = ConfigBuilder.make_parts_block(el_str, input_field.label, input_field.desc, '', flg_required, flg_secret);\n        return node_block;\n    }\n    get_saved_value(whole_config, input_field) {\n        if ((0, common_1.isSecretItem)(input_field)) {\n            console.log({ input_field });\n            const proxy_config = kintone.plugin.app.getProxyConfig(input_field.URL, input_field.method);\n            console.log({ proxy_config });\n            if (proxy_config == null) {\n                return \"\";\n            }\n            let header = input_field.header;\n            if (header == \"Authorization Bearer\") {\n                header = \"Authorization\";\n            }\n            const data = input_field.data;\n            if (header != undefined) {\n                const header_value = proxy_config.headers[header];\n                if (header_value.startsWith(\"Bearer\")) {\n                    const splited = header_value.split(/ /);\n                    return splited[1];\n                }\n                return header_value;\n            }\n            else if (data != undefined) {\n                return proxy_config.data[data];\n            }\n            throw new Error(`get_saved_value(): 秘匿情報フィールドとして格納されている情報が不正です。(${proxy_config})`);\n        }\n        let saved_value = whole_config[input_field.code];\n        if (saved_value == undefined) {\n            if (input_field.default != undefined) {\n                saved_value = input_field.default;\n            }\n            else {\n                saved_value = \"\";\n            }\n        }\n        return saved_value;\n    }\n    make_multiline_block(input_field) {\n        if (this.config == undefined || this.props == undefined) {\n            throw new Error('インスタンスが初期化されていません');\n        }\n        const fieldcode = input_field.code;\n        let saved_value = this.config[fieldcode];\n        if (saved_value == undefined) {\n            if (input_field.default != undefined) {\n                saved_value = input_field.default;\n            }\n            else {\n                saved_value = \"\";\n            }\n        }\n        console.log({ saved_value });\n        const id = `multiline-${fieldcode}`;\n        const cols = input_field.cols ? input_field.cols.toString() : '60';\n        const rows = input_field.rows ? input_field.rows.toString() : '10';\n        const el_str = commonutils_1.Utils.createElement('div', 'kintoneplugin-input-outer', [\n            commonutils_1.Utils.ce('textarea', '', [], saved_value, {\n                'id': id,\n                'rows': rows,\n                'cols': cols\n            })\n        ]);\n        const flg_required = ((item) => {\n            return 'required' in item && item.required == true;\n        })(input_field);\n        const node_block = ConfigBuilder.make_parts_block(el_str, input_field.label, input_field.desc, '', flg_required);\n        return node_block;\n    }\n    make_checkbox_block(input_field) {\n        if (this.config == undefined || this.props == undefined) {\n            throw new Error('インスタンスが初期化されていません');\n        }\n        if (input_field == undefined || input_field.accept == undefined) {\n            throw new Error('ConfigBuidler.make_checkbox_block(): 必要なプロパティ accept が未定義です。設定を見直してください。');\n        }\n        const fieldcode = input_field.code;\n        let saved_value = this.config[fieldcode];\n        if (saved_value == undefined) {\n            saved_value = [];\n        }\n        console.log({ saved_value });\n        const id = `${fieldcode}`;\n        const list_checkbox = input_field.accept.map(box_value => {\n            const checkbox_id = `${id}-${box_value}`;\n            console.log({ saved_value });\n            console.log({ box_value });\n            const attr_checkbox = {\n                'type': 'checkbox',\n                'name': 'checkbox',\n                'value': box_value,\n                'id': checkbox_id\n            };\n            if (saved_value.includes(box_value)) {\n                attr_checkbox['checked'] = \"checked\";\n            }\n            return commonutils_1.Utils.createElement('div', 'kintoneplugin-input-checkbox', [\n                commonutils_1.Utils.ce('span', 'kintoneplugin-input-checkbox-item', [\n                    commonutils_1.Utils.ce('input', 'kintoneplugin-input-checkbox-item', [], '', attr_checkbox),\n                    commonutils_1.Utils.ce('label', '', [], box_value, {\n                        'for': checkbox_id\n                    })\n                ])\n            ]);\n        });\n        const flg_required = ((item) => {\n            return 'required' in item && item.required == true;\n        })(input_field);\n        const node_block = ConfigBuilder.make_parts_block(commonutils_1.Utils.ce('div', '', list_checkbox, '', {\n            'id': id\n        }), input_field.label, input_field.desc, '', flg_required);\n        return node_block;\n    }\n    make_radio_block(input_field, block_class = \"\") {\n        if (this.config == undefined || this.props == undefined) {\n            throw new Error('インスタンスが初期化されていません');\n        }\n        const fieldcode = input_field.code;\n        let saved_string = this.config[fieldcode];\n        console.log({ saved_string });\n        if (saved_string == undefined && input_field.default != undefined) {\n            saved_string = input_field.default;\n        }\n        if (input_field == undefined || input_field.accept == undefined) {\n            throw new Error('ConfigBuidler.make_dropdown_fieldselect_block(): 必要なプロパティ accept が未定義です。設定を見直してください。');\n        }\n        const el_options = input_field.accept.map((label) => {\n            const id = `radio-${fieldcode}-${label}`;\n            const name = `radio-${fieldcode}`;\n            const el_radio = commonutils_1.Utils.createElement('input');\n            el_radio.setAttribute('type', 'radio');\n            el_radio.setAttribute('name', name);\n            el_radio.setAttribute('value', label);\n            el_radio.setAttribute('id', id);\n            if (label == saved_string) {\n                el_radio.setAttribute('checked', 'checked');\n            }\n            const el_label = commonutils_1.Utils.createElement('label', '', [], label);\n            el_label.setAttribute('for', id);\n            return commonutils_1.Utils.createElement('span', 'kintoneplugin-input-radio-item', [el_radio, el_label]);\n        });\n        const el_radio = commonutils_1.Utils.createElement('div', 'kintoneplugin-input-radio', el_options);\n        el_radio.id = fieldcode;\n        const flg_required = ((item) => {\n            return 'required' in item && item.required == true;\n        })(input_field);\n        const node_block = ConfigBuilder.make_parts_block(el_radio, input_field.label, input_field.desc, block_class, flg_required);\n        return node_block;\n    }\n    make_dropdown_fieldselect_block(input_field, block_class = \"\") {\n        const form_types = [];\n        const layout_types = [];\n        if (input_field.accept == undefined) {\n            throw new Error('ConfigBuidler.make_dropdown_fieldselect_block(): 必要なプロパティ accept が未定義です。設定を見直してください。');\n        }\n        input_field.accept.forEach((type) => {\n            if (ConfigBuilder.is_layout_info(type)) {\n                layout_types.push(type);\n            }\n            else {\n                form_types.push(type);\n            }\n        });\n        if (this.config == undefined || this.props == undefined) {\n            throw new Error('インスタンスが初期化されていません');\n        }\n        if (layout_types.length > 0 && this.layout == undefined) {\n            throw new Error('レイアウト情報をロードしていません。load_layout_info() を事前に呼び出してください。');\n        }\n        if (layout_types.length > 0 && form_types.length > 0) {\n            throw new Error('フォーム情報のフィールドとレイアウト情報のフィールドとが混在したドロップダウンは構築できません。');\n        }\n        const fieldcode = input_field.code;\n        const saved_string = this.config[fieldcode];\n        let node_dropdown;\n        const show_fc = input_field.verbose ? input_field.verbose : false;\n        if (form_types.length > 0) {\n            node_dropdown = this.build_fields_dropdown(this.props, form_types, saved_string, fieldcode, input_field.default, show_fc);\n        }\n        else if (layout_types.length > 0) {\n            node_dropdown = this.build_fields_dropdown(this.layout, layout_types, saved_string, fieldcode, input_field.default, show_fc);\n        }\n        else {\n            throw new Error(`[${input_field.label}] フォーム情報またはレイアウト情報が空欄で呼び出されました`);\n        }\n        const flg_required = ((item) => {\n            return 'required' in item && item.required == true;\n        })(input_field);\n        const node_block = ConfigBuilder.make_parts_block(node_dropdown, input_field.label, input_field.desc, block_class, flg_required);\n        return node_block;\n    }\n    make_incremental_table_block(input_field) {\n        if (this.config == undefined || this.props == undefined) {\n            throw new Error('インスタンスが初期化されていません');\n        }\n        const fieldcode = input_field.code;\n        const saved_rows = this.config[fieldcode];\n        console.log(saved_rows);\n        const el_table = this.build_incremental_table(input_field, saved_rows);\n        const node_block = ConfigBuilder.make_parts_block(el_table, input_field.label, input_field.desc);\n        return node_block;\n    }\n    make_subtitle_block(input_field) {\n        const class_heading = 'display-6 mb-3';\n        const heading = commonutils_1.Utils.ce('div', class_heading, [], input_field.label);\n        const desc = commonutils_1.Utils.ce('div', 'ms-4 mt-2 mb-5', [], input_field.desc);\n        return commonutils_1.Utils.createElement('div', '', [\n            heading, desc\n        ]);\n    }\n    async load_layout_info() {\n        const layout = await kintone.api('/k/v1/preview/app/form/layout', 'GET', {\n            app: kintone.app.getId()\n        });\n        console.log(layout);\n        const layout_infos = layout.layout.reduce((prev, curr) => {\n            if (curr.type == \"GROUP\") {\n                console.log(`curr: ${curr.type}`);\n                const spacers = curr.layout.reduce((row_prev, row_curr) => {\n                    const row_spacers = row_curr.fields.filter((row_field) => {\n                        console.log(row_field.type);\n                        return row_field.type == \"SPACER\";\n                    });\n                    row_prev = row_prev.concat(row_spacers);\n                    console.log(`row_prev: ${row_prev}`);\n                    return row_prev;\n                }, []);\n                prev.concat(spacers);\n            }\n            else {\n                prev = prev.concat(curr.fields.filter((field) => {\n                    return field.type == 'SPACER';\n                }));\n            }\n            return prev;\n        }, []);\n        this.layout = layout_infos.reduce((prev, curr) => {\n            curr.code = curr.elementId;\n            curr.label = curr.elementId;\n            prev[curr.code] = curr;\n            return prev;\n        }, {});\n        console.log(this.layout);\n    }\n}\nexports.ConfigBuilder = ConfigBuilder;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigManager = void 0;\nrequire(\"@shin-chan/kypes\");\nconst config_utilities_1 = require(\"./config-utilities\");\nconst config_builder_1 = require(\"./config-builder\");\nconst common_1 = require(\"./common\");\nconst commonutils_1 = require(\"commonutils\");\nclass ConfigManager {\n    KEY_CONFIG = 'config';\n    setting_input;\n    config = {};\n    hooks = {};\n    constructor(PLUGIN_ID, setting_input, settings_preference = undefined) {\n        const CONF = kintone.plugin.app.getConfig(PLUGIN_ID);\n        this.set_config(CONF);\n        console.log(this.config);\n        this.setting_input = setting_input;\n        if (settings_preference) {\n            this.set_preference(settings_preference);\n        }\n    }\n    set_preference(prefs) {\n        const node_title = document.getElementById('plugin_title');\n        if (node_title) {\n            node_title.textContent = prefs.title;\n        }\n        const node_description = document.getElementById('plugin_description');\n        if (node_description) {\n            node_description.textContent = prefs.description;\n        }\n    }\n    build() {\n        kintone.api('/k/v1/preview/app/form/fields', 'GET', {\n            app: kintone.app.getId()\n        }).then(async (resp) => {\n            const node_settings = this.make_setting_fields(resp.properties);\n            const btn_submit = this.make_button_submit();\n            const btn_cancel = this.make_button_cancel();\n            const form_node = (async () => {\n                const node = commonutils_1.Utils.createElement('form', '', await node_settings);\n                node.id = 'form_settings';\n                return node;\n            })();\n            const top = document.getElementById('config_body');\n            top?.appendChild(await form_node);\n            const buttons = commonutils_1.Utils.createElement('div', 'mt-5', [\n                btn_cancel,\n                btn_submit\n            ]);\n            top?.appendChild(buttons);\n        }).then((_resp) => {\n            this.call_target_event('load');\n        }).catch((err) => {\n            throw err;\n        });\n    }\n    async call_target_event(event_name) {\n        const funcs = this.hooks[event_name];\n        if (funcs == undefined) {\n            console.info(`イベント[${event_name}]は未登録です。`);\n            return;\n        }\n        for (const func of funcs) {\n            if (func != undefined) {\n                console.log({ func });\n                await func();\n            }\n        }\n    }\n    layout_inputs(builder, input) {\n        const setting_items = input.map((config) => {\n            const paragraph = this.make_paragraph(builder, config);\n            return paragraph;\n        });\n        return setting_items;\n    }\n    make_paragraph(builder, config) {\n        switch (config.type) {\n            case common_1.FieldType.Text:\n                return builder.make_string_block(config);\n            case common_1.FieldType.MultilineText:\n                return builder.make_multiline_block(config);\n            case common_1.FieldType.Radio:\n                return builder.make_radio_block(config);\n            case common_1.FieldType.Number:\n                return builder.make_string_block(config, 'number');\n            case common_1.FieldType.Checkbox:\n                return builder.make_checkbox_block(config);\n            case common_1.FieldType.IncrementalTable:\n                return builder.make_incremental_table_block(config);\n            case common_1.FieldType.Label:\n                return builder.make_subtitle_block(config);\n            case common_1.FieldType.Separator:\n                return commonutils_1.Utils.createElement('div', 'mt-5 bg-info');\n            case common_1.FieldType.Dropdown_FieldSelect:\n                if (!('accept' in config)) {\n                    throw new Error('プロパティ accept が必要です。config/settings.ts の設定を見直してください。');\n                }\n                return builder.make_dropdown_fieldselect_block(config);\n            default:\n                throw new Error(`未実装のFieldTypeを要求しています。${config.type} を実装してください。`);\n        }\n    }\n    set_config(CONF) {\n        const serialized = commonutils_1.Utils.get_from(CONF, this.KEY_CONFIG, '');\n        if (serialized == '') {\n            console.info('設定値がありません。初期値で開始します。');\n        }\n        else {\n            this.config = JSON.parse(serialized);\n        }\n    }\n    get_config(key = undefined) {\n        if (key == undefined) {\n            return this.config;\n        }\n        if (key in this.config) {\n            return this.config[key];\n        }\n        throw new Error(`未定義または未設定の設定キーが指定されました: [${key}]`);\n    }\n    async make_setting_fields(props) {\n        const builder = new config_builder_1.ConfigBuilder(props, this.config);\n        await builder.load_layout_info();\n        return this.layout_inputs(builder, this.setting_input);\n    }\n    isSecretItem(item) {\n        return 'secret' in item;\n    }\n    secret_parameters(config_tinker) {\n        const secrets = this.setting_input.filter((config) => {\n            return (0, common_1.isSecretItem)(config);\n        });\n        const proxy_params = this.make_proxy_params(secrets, config_tinker);\n        return proxy_params;\n    }\n    make_proxy_params(secrets, config_tinker) {\n        const items = secrets.reduce((prev, secret) => {\n            const key = secret.method + \":\" + secret.URL;\n            if (prev[key] == undefined) {\n                prev[key] = [];\n            }\n            prev[key].push(secret);\n            return prev;\n        }, {});\n        const result_params = Object.keys(items).reduce((params, key) => {\n            const secrets = items[key];\n            console.log({ secrets });\n            const get_text_and_validate_value = (secret) => {\n                const value = config_tinker.get_text_value(secret.code);\n                if (!('required' in secret)) {\n                    secret.required = false;\n                }\n                if (secret.required == true) {\n                    if (value == undefined || value == null || value == \"\") {\n                        throw new Error(`必須の項目[${secret.label}]が未記入です。`);\n                    }\n                }\n                if (value == undefined || value == null) {\n                    return \"\";\n                }\n                return value;\n            };\n            const headers = secrets.filter((secret) => {\n                return 'header' in secret;\n            }).reduce((prev, secret) => {\n                const value = get_text_and_validate_value(secret);\n                if (secret.header == undefined) {\n                    throw new Error('秘匿設定のheader要素が未定義です。');\n                }\n                if (secret.header == \"Authorization Bearer\") {\n                    prev[\"Authorization\"] = \"Bearer \" + value;\n                }\n                else {\n                    prev[secret.header] = value;\n                }\n                return prev;\n            }, {});\n            const data = secrets.filter((secret) => {\n                return 'data' in secret;\n            }).reduce((prev, secret) => {\n                const value = get_text_and_validate_value(secret);\n                if (secret.data == undefined) {\n                    throw new Error('秘匿設定のdata要素が未定義です');\n                }\n                prev[secret.data] = value;\n                return prev;\n            }, {});\n            const param = {\n                'URL': secrets[0].URL,\n                'method': secrets[0].method,\n                'headers': headers,\n                'data': data\n            };\n            params.push(param);\n            return params;\n        }, []);\n        return result_params;\n    }\n    store_parameters(config_tinker) {\n        const store = {};\n        this.setting_input.forEach((config) => {\n            if (config.type == common_1.FieldType.Label || config.type == common_1.FieldType.Separator) {\n                return;\n            }\n            if ('secret' in config && config.secret == true) {\n                return;\n            }\n            config = config;\n            const code = config.code;\n            const required = config.required;\n            console.log({ code });\n            const selected = config_tinker.get_selected(code, config.type);\n            if (selected) {\n                store[code] = selected;\n            }\n            else {\n                if (required) {\n                    const msg = `必須の設定項目 [${config.label}] が未設定です(${code})`;\n                    console.error(msg);\n                    throw new Error(msg);\n                }\n                else {\n                    store[code] = '';\n                }\n            }\n        });\n        console.log(store);\n        return store;\n    }\n    make_button_submit() {\n        const btn_submit = commonutils_1.Utils.createElement('button', 'kintoneplugin-button-dialog-ok');\n        btn_submit.setAttribute('type', 'button');\n        btn_submit.textContent = '適用';\n        btn_submit.addEventListener('keydown', (event) => {\n            if (event.isComposing || event.code == 'Enter') {\n                console.info('適用ボタンのenterを無効化しました。');\n                return false;\n            }\n        });\n        btn_submit.addEventListener('click', async (event) => {\n            event.preventDefault();\n            const this_form = document.getElementById('form_settings');\n            if (this_form == null) {\n                throw 'ERROR: フォーム要素を取得できませんでした。';\n            }\n            await this.call_target_event('submit')\n                .catch((error) => {\n                const msg = `⛔ 設定の保存でエラーが発生しました。（${error}）`;\n                console.log(msg);\n                alert(msg);\n                throw new Error(msg);\n            });\n            const config_tinker = new config_utilities_1.ConfigUtilities(this_form);\n            let proxy_params;\n            try {\n                proxy_params = this.secret_parameters(config_tinker);\n                console.log({ proxy_params });\n            }\n            catch (error) {\n                console.log('call 6');\n                const msg = `⛔ 設定値の保存でエラーが発生しました。設定値を見直してください。（${error}）`;\n                alert(msg);\n                console.log('call 7');\n                return event;\n            }\n            proxy_params.forEach(async (param) => {\n                console.log({ param });\n                const result = kintone.plugin.app.setProxyConfig(param.URL, param.method, param.headers, param.data, () => {\n                    console.log({ result });\n                });\n            });\n            let store_parameters;\n            try {\n                console.log('call 1');\n                store_parameters = this.store_parameters(config_tinker);\n                console.log('call 2');\n                setTimeout(() => {\n                    console.log('call 3');\n                    const serialized = JSON.stringify(store_parameters);\n                    console.log(serialized);\n                    const config = {};\n                    config[this.KEY_CONFIG] = serialized;\n                    console.log('call 4');\n                    kintone.plugin.app.setConfig(config);\n                }, 200);\n            }\n            catch (error) {\n                console.log('call 6');\n                alert(`⛔ 設定値の保存でエラーが発生しました。設定値を見直してください。（${error}）`);\n                console.log('call 7');\n                return event;\n            }\n        });\n        console.log('call 8');\n        return btn_submit;\n    }\n    make_button_cancel() {\n        const btn_cancel = commonutils_1.Utils.createElement('button', 'js-cancel-button kintoneplugin-button-dialog-cancel');\n        btn_cancel.textContent = 'キャンセル';\n        btn_cancel.addEventListener('click', function (event) {\n            console.log(event);\n            window.location.href = '../../' + kintone.app.getId() + '/plugin/';\n        });\n        return btn_cancel;\n    }\n    add_hook(event_name, func) {\n        if (this.hooks[event_name] == undefined) {\n            this.hooks[event_name] = [];\n        }\n        this.hooks[event_name]?.push(func);\n    }\n}\nexports.ConfigManager = ConfigManager;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigUtilities = void 0;\nconst commonutils_1 = require(\"commonutils\");\nconst common_1 = require(\"./common\");\nclass ConfigUtilities {\n    static DEFAULT_OPTION = '----';\n    config_form;\n    whole_selected_field_codes;\n    constructor(config_form) {\n        this.config_form = config_form;\n        this.whole_selected_field_codes = [];\n    }\n    add_selected_field_codes = (code) => {\n        this.whole_selected_field_codes.push(code);\n    };\n    is_overlapped(additional_labels) {\n        return commonutils_1.Utils.is_overlapped(this.overlapped(additional_labels));\n    }\n    overlapped(additional_labels = undefined) {\n        if (additional_labels != undefined) {\n            this.whole_selected_field_codes.concat(additional_labels);\n        }\n        return commonutils_1.Utils.overlapped(this.whole_selected_field_codes);\n    }\n    clear_selected_field_labels() {\n        this.whole_selected_field_codes = [];\n    }\n    get_selected_fieldcode = (select_node_id) => {\n        console.log(`[ConfigTinker] get_selected_fieldcode(): ${select_node_id}`);\n        const node = document.getElementById(select_node_id);\n        if (node.selectedIndex == -1) {\n            return '';\n        }\n        else if (node.options[node.selectedIndex].label == ConfigUtilities.DEFAULT_OPTION) {\n            return '';\n        }\n        const code = node.selectedOptions[0].getAttribute('fieldcode');\n        if (code == null) {\n            throw new Error(`ノード[ ${select_node_id} ]はフィールド選択ではありません。`);\n        }\n        return code;\n    };\n    get_selected_label = (select_node_id) => {\n        console.log(`[ConfigTinker] get_selected_label(): ${select_node_id}`);\n        const node = document.getElementById(select_node_id);\n        if (node == null) {\n            throw new Error(`ConfigUtilities.get_selected_label(): 指定のID'${select_node_id}'が null でした。`);\n        }\n        if (node.selectedIndex == -1) {\n            return '';\n        }\n        return node.selectedOptions[0].label;\n    };\n    get_checked_boxes = (select_node_id) => {\n        console.log(`[ConfigTinker] get_checked_boxes(): ${select_node_id}`);\n        const target_boxes = document.querySelectorAll(`[id^=\"${select_node_id}-\"]`);\n        if (target_boxes.length == 0) {\n            throw new Error(`ConfigUtilities.get_checked_boxes(): 指定のID'${select_node_id}-'から始まるチェックボックスが見つかりませんでした。`);\n        }\n        const checked_labels = Array.from(target_boxes).reduce((checked, curr) => {\n            if (curr.checked) {\n                checked.push(curr.value);\n            }\n            return checked;\n        }, []);\n        console.log({ checked_labels });\n        return checked_labels;\n    };\n    get_selected_radio(radio_id) {\n        const radio_name = `radio-${radio_id}`;\n        console.log(`[ConfigTinker] get_selected_radio(): ${radio_name}`);\n        const nodes = document.getElementsByName(radio_name);\n        const length = nodes.length;\n        for (let idx = 0; idx < length; idx++) {\n            const node_input = nodes[idx];\n            if (node_input.checked == true) {\n                return node_input.value;\n            }\n        }\n        return \"\";\n    }\n    get_text_value(fieldcode) {\n        const field_id = `text-${fieldcode}`;\n        console.log(`[ConfigTinker] get_text_value(): ${field_id}`);\n        const node_input = document.getElementById(field_id);\n        return node_input.value;\n    }\n    get_multilinetext_value(fieldcode) {\n        const field_id = `multiline-${fieldcode}`;\n        console.log(`[ConfigTinker] get_multiline_value(): ${field_id}`);\n        const node_input = document.getElementById(field_id);\n        return node_input.value;\n    }\n    get_number_value(fieldcode) {\n        const field_id = `number-${fieldcode}`;\n        console.log(`[ConfigTinker] get_number_value(): ${field_id}`);\n        const node_input = document.getElementById(field_id);\n        return node_input.value;\n    }\n    get_incremental_table_values(fieldcode) {\n        const field_id = `table-${fieldcode}`;\n        const node_table = document.getElementById(field_id);\n        console.log(field_id);\n        console.log(node_table);\n        if (node_table == null) {\n            throw new Error(`指定したテーブルが見つかりません。(id: ${field_id})`);\n        }\n        return this.abstruct_from_incremental_table(node_table);\n    }\n    abstruct_from_incremental_table(node_table) {\n        const whole_headers = Array.from(node_table.rows).filter((row) => {\n            return row.firstChild?.nodeName == \"TH\";\n        }).map((row) => {\n            const texts = Array.from(row.cells).filter((cell) => {\n                return cell.innerText != \"\";\n            }).map((cell) => {\n                return cell.innerText;\n            });\n            console.log(texts);\n            return texts;\n        });\n        const values = Array.from(node_table.rows).filter((row) => {\n            return row.firstChild?.nodeName != \"TH\";\n        }).map((row) => {\n            const cells = Array.from(row.cells).filter((cell) => {\n                const input_element = cell.getElementsByClassName('kintoneplugin-input-text')[0];\n                const selected_element = cell.getElementsByClassName('select-kintone-field')[0];\n                const checkbox_element = cell.getElementsByClassName('kintoneplugin-input-checkbox-item');\n                const multiline_element = cell.getElementsByClassName('kintoneplugin-multiline-text-inner')[0];\n                return input_element !== undefined || selected_element !== undefined || checkbox_element !== undefined || multiline_element != undefined;\n            }).map((cell) => {\n                const input_element = cell.getElementsByClassName('kintoneplugin-input-text')[0];\n                console.log({ input_element });\n                if (input_element != null) {\n                    return input_element.value;\n                }\n                const multiline_element = cell.getElementsByClassName('kintoneplugin-multiline-text-inner')[0];\n                console.log({ multiline_element });\n                if (multiline_element != null) {\n                    return multiline_element.value;\n                }\n                const selected_element = cell.getElementsByClassName('select-kintone-field')[0];\n                console.log({ selected_element });\n                if (selected_element != null) {\n                    const index = selected_element.selectedIndex;\n                    console.log({ index });\n                    const option = selected_element[index];\n                    if ('fieldcode' in selected_element[index].attributes) {\n                        console.log(`selected_element fieldcode: ${option.getAttribute('fieldcode')}`);\n                        const fieldcode = option.getAttribute('fieldcode');\n                        if (fieldcode != null) {\n                            return fieldcode;\n                        }\n                    }\n                    return selected_element[index].label;\n                }\n                console.log({ cell });\n                const checkbox_items = cell.getElementsByClassName('kintoneplugin-input-checkbox');\n                console.log({ checkbox_items });\n                if (checkbox_items != null) {\n                    return Array.from(checkbox_items).filter(item => {\n                        const node_checkbox = item.childNodes[0].childNodes[0];\n                        return node_checkbox.checked;\n                    }).map(item => {\n                        console.log({ item });\n                        if (item.textContent == null) {\n                            throw new Error('ラベルのないチェックボックスが定義されています。');\n                        }\n                        return item.textContent;\n                    });\n                }\n                throw new Error(`未対応のテーブルセル ${row} が渡されました。`);\n            }).filter((cell) => {\n                return !(Array.isArray(cell) && cell.length == 0);\n            });\n            return cells;\n        });\n        console.log({ values });\n        const filtered = values.filter((row) => {\n            return row.length > 0;\n        }).filter((row) => {\n            return row.filter((cell) => {\n                const length = cell != null ? cell.length : 0;\n                return length > 0;\n            }).length > 0;\n        });\n        console.log(filtered);\n        if (filtered.length == 0) {\n            return null;\n        }\n        const headers = whole_headers[0];\n        console.log({ headers });\n        const table_values = values.map((value) => {\n            return value.reduce((prev, cell, index) => {\n                const content = cell == null ? \"\" : cell;\n                prev[headers[index]] = content;\n                return prev;\n            }, {});\n        });\n        console.log({ table_values });\n        return table_values;\n    }\n    get_selected(node_id, field_type) {\n        switch (field_type) {\n            case common_1.FieldType.Dropdown:\n                return this.get_selected_label(node_id);\n            case common_1.FieldType.Checkbox:\n                return this.get_checked_boxes(node_id);\n            case common_1.FieldType.Radio:\n                return this.get_selected_radio(node_id);\n            case common_1.FieldType.Dropdown_FieldSelect:\n                return this.get_selected_fieldcode(node_id);\n            case common_1.FieldType.Text:\n                return this.get_text_value(node_id);\n            case common_1.FieldType.Number:\n                return this.get_number_value(node_id);\n            case common_1.FieldType.MultilineText:\n                return this.get_multilinetext_value(node_id);\n            case common_1.FieldType.IncrementalTable:\n                return this.get_incremental_table_values(node_id);\n        }\n        throw new Error(`get_selected(): 不明なフィールドタイプが渡されました (field_type: ${field_type})`);\n    }\n}\nexports.ConfigUtilities = ConfigUtilities;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FieldBuilder = void 0;\nconst commonutils_1 = require(\"commonutils\");\nconst common_1 = require(\"./common\");\nconst config_builder_1 = require(\"./config-builder\");\nconst config_utilities_1 = require(\"./config-utilities\");\nclass FieldBuilder {\n    props;\n    empty_label;\n    constructor(props, empty_label = config_utilities_1.ConfigUtilities.DEFAULT_OPTION) {\n        this.props = props;\n        this.empty_label = empty_label;\n    }\n    build_table_cell(table_id, column, value, row_count) {\n        if ('accept' in column) {\n            switch (column.type) {\n                case common_1.FieldType.Checkbox:\n                    return this.build_checkbox_cell(value, column, table_id, row_count);\n                case common_1.FieldType.Dropdown:\n                    return this.build_dropdown_cell(value, column);\n                case common_1.FieldType.Dropdown_FieldSelect:\n                    return this.build_dropdown_fieldselect_cell(value, column);\n            }\n        }\n        else {\n            switch (column.type) {\n                case common_1.FieldType.Text:\n                    return this.build_textcell(value);\n                case common_1.FieldType.MultilineText:\n                    return this.build_multilinetext_cell(value, column);\n            }\n        }\n        throw new Error(`未定義のFieldTypeが渡されました。FieldTypeに${column.type} を実装してください。`);\n    }\n    build_textcell = (preset) => {\n        preset = preset === undefined ? '' : preset;\n        return commonutils_1.Utils.createElement('div', 'kintoneplugin-input-outer', [\n            commonutils_1.Utils.createElement('input', 'kintoneplugin-input-text', [], undefined, {\n                'type': 'text',\n                'value': preset,\n                'size': '4'\n            })\n        ]);\n    };\n    build_checkbox_cell = (preset, column, table_id, row_count) => {\n        const list_checkbox = column.accept.map(box_value => {\n            const checkbox_id = `${table_id}-${row_count}-${box_value}`;\n            preset = preset === undefined ? [] : preset;\n            console.log({ box_value });\n            console.log({ preset });\n            const checked = preset.includes(box_value) ? \"checked\" : \"\";\n            const node_checkbox = commonutils_1.Utils.ce('input', '', [], '', {\n                'type': 'checkbox',\n                'name': 'checkbox',\n                'value': box_value,\n                'id': checkbox_id\n            });\n            if (checked != \"\") {\n                node_checkbox.setAttribute('checked', checked);\n            }\n            return commonutils_1.Utils.ce('div', 'kintoneplugin-input-checkbox', [\n                commonutils_1.Utils.createElement('span', 'kintoneplugin-input-checkbox-item', [\n                    node_checkbox,\n                    commonutils_1.Utils.ce('label', '', [], box_value, {\n                        'for': checkbox_id\n                    })\n                ])\n            ]);\n        });\n        return commonutils_1.Utils.createElement('div', '', list_checkbox);\n    };\n    build_dropdown_cell = (preset, column) => {\n        if (column == undefined || !('accept' in column)) {\n            throw new Error('選択肢情報としてundefinedが渡されました。');\n        }\n        preset = preset === undefined ? '' : preset;\n        const field_dropdown = commonutils_1.Utils.createElement('select', 'select-kintone-field');\n        if (column.empty_label != null) {\n            const empty_item = commonutils_1.Utils.createElement('option');\n            empty_item.label = column.empty_label;\n            field_dropdown.appendChild(empty_item);\n        }\n        column.accept.forEach((label) => {\n            const item = commonutils_1.Utils.createElement('option');\n            item.label = label;\n            if (label == preset) {\n                item.setAttribute('selected', '');\n            }\n            field_dropdown.appendChild(item);\n        });\n        return commonutils_1.Utils.createElement('div', '', [\n            commonutils_1.Utils.createElement('div', \"kintoneplugin-select-outer\", [\n                commonutils_1.Utils.createElement('div', 'kintoneplugin-select', [field_dropdown])\n            ])\n        ]);\n    };\n    build_dropdown_fieldselect_cell = (preset, column) => {\n        if (column == undefined || !('accept' in column)) {\n            throw new Error('選択肢情報としてundefinedが渡されました。');\n        }\n        const field_dropdown = commonutils_1.Utils.createElement('select', 'select-kintone-field');\n        field_dropdown.id = preset === undefined ? '' : preset;\n        const empty_item = commonutils_1.Utils.createElement('option');\n        empty_item.label = this.empty_label;\n        field_dropdown.appendChild(empty_item);\n        const parts = config_builder_1.ConfigBuilder.get_formparts(this.props, column.accept);\n        const show_fc = column.verbose ? column.verbose : false;\n        const items = this.compose_fielditems(parts, preset, show_fc);\n        items.forEach((item) => {\n            field_dropdown.appendChild(item);\n        });\n        return commonutils_1.Utils.createElement('div', '', [\n            commonutils_1.Utils.createElement('div', \"kintoneplugin-select-outer\", [\n                commonutils_1.Utils.createElement('div', 'kintoneplugin-select', [field_dropdown])\n            ])\n        ]);\n    };\n    compose_fielditems(parts, preset, show_fc) {\n        const items = [];\n        for (const code in parts) {\n            const item = commonutils_1.Utils.createElement('option');\n            const prop = parts[code];\n            item.setAttribute('fieldcode', code);\n            if (show_fc) {\n                item.label = prop.label + ` [${code}]`;\n            }\n            else {\n                item.label = prop.label;\n            }\n            if (code == preset) {\n                item.setAttribute('selected', '');\n            }\n            items.push(item);\n        }\n        return items;\n    }\n    build_multilinetext_cell = (preset) => {\n        preset = preset === undefined ? '' : preset;\n        return commonutils_1.Utils.createElement('div', 'kintoneplugin-input-outer', [\n            commonutils_1.Utils.ce('textarea', 'kintoneplugin-multiline-text-inner', [], preset, {\n                'rows': '3',\n                'cols': '40'\n            })\n        ]);\n    };\n}\nexports.FieldBuilder = FieldBuilder;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IncrementalTableBuilder = void 0;\nconst commonutils_1 = require(\"commonutils\");\nconst config_builder_1 = require(\"./config-builder\");\nclass IncrementalTableBuilder {\n    table_conf;\n    saved_rows;\n    table_rows;\n    field_builder;\n    rows_count;\n    constructor(input_field, saved_rows, field_builder) {\n        this.table_conf = input_field;\n        this.saved_rows = saved_rows;\n        this.field_builder = field_builder;\n        this.table_rows = [];\n        this.rows_count = 0;\n    }\n    build() {\n        const table_cols = this.table_conf.table_cols;\n        const spacer_count = table_cols.length - 3;\n        if (this.saved_rows == null || Object.keys(this.saved_rows).length == 0) {\n            this.table_rows.push(this.build_table_row(0, table_cols, undefined, spacer_count));\n        }\n        else {\n            this.saved_rows.forEach((opt, index) => {\n                const row = this.build_table_row(index, table_cols, opt, spacer_count);\n                this.table_rows.push(row);\n            });\n        }\n        return this.table_rows;\n    }\n    build_table_row(row_number, table_cols, saved_data = undefined, spacer_cols = 0) {\n        console.log({ table_cols });\n        console.log({ saved_data });\n        const built_row = [];\n        for (let index = 0; index < table_cols.length; index++) {\n            const column = table_cols[index];\n            const value = saved_data == undefined ? undefined : saved_data[column.header];\n            console.log({ value });\n            const input_field = this.field_builder.build_table_cell(this.table_conf.code, column, value, row_number);\n            built_row.push(commonutils_1.Utils.ce('td', '', [\n                commonutils_1.Utils.ce('div', 'kintoneplugin-table-td-control', [\n                    commonutils_1.Utils.ce('div', 'kintoneplugin-table-td-control-value', [\n                        input_field\n                    ])\n                ])\n            ]));\n        }\n        const node_button_add = this.create_button_row_add(table_cols);\n        const node_button_remove = this.create_button_row_remove();\n        console.log({ spacer_cols });\n        spacer_cols = spacer_cols < 0 ? 0 : spacer_cols;\n        const spacers = [...Array(spacer_cols)].map(() => {\n            return commonutils_1.Utils.createElement('td', 'td_spacer');\n        });\n        const tds = [\n            ...built_row,\n            ...spacers,\n            commonutils_1.Utils.createElement('td', 'kintoneplugin-table-td-operation', [\n                node_button_add,\n                node_button_remove\n            ])\n        ];\n        this.rows_count = built_row.length;\n        const table_row = commonutils_1.Utils.createElement('tr', '', tds);\n        return table_row;\n    }\n    get_table_rows_count() {\n        const table_id = `table-${this.table_conf.code}`;\n        const table_node = document.getElementById(table_id);\n        if (table_node) {\n            return table_node.getElementsByTagName('tr').length;\n        }\n        throw new Error(`指定したテーブルID ${table_id} が存在しません。`);\n    }\n    create_button_row_add(table_cols) {\n        const node_button_add = document.createElement('button');\n        node_button_add.className = 'kintoneplugin-button-add-row-image';\n        node_button_add.setAttribute('type', 'button');\n        node_button_add.setAttribute('title', 'Add row');\n        node_button_add.addEventListener('click', (event) => {\n            console.log(`テーブルを一行追加する${event}`);\n            const grand_tr = config_builder_1.ConfigBuilder.get_grand_tr(event.target);\n            const ancestor_tbody = grand_tr?.parentNode;\n            if (grand_tr == null || ancestor_tbody == null) {\n                throw 'ERROR: 祖先のtbodyを取得できませんでした。';\n            }\n            const target = event?.target;\n            if (target == null) {\n                return;\n            }\n            const spacer_count = grand_tr.children.length - 1 - table_cols.length;\n            const rows_count = this.get_table_rows_count() + 1;\n            const add_elem = this.build_table_row(rows_count, table_cols, undefined, spacer_count);\n            ancestor_tbody.insertBefore(add_elem, grand_tr.nextElementSibling);\n        });\n        return node_button_add;\n    }\n    create_button_row_remove() {\n        const node_button_remove = document.createElement('button');\n        node_button_remove.className = 'kintoneplugin-button-remove-row-image';\n        node_button_remove.setAttribute('type', 'button');\n        node_button_remove.setAttribute('title', 'Delete this row');\n        node_button_remove.addEventListener('click', (event) => {\n            const grand_tr = config_builder_1.ConfigBuilder.get_grand_tr(event.target);\n            if (grand_tr.parentNode?.childNodes.length == 1) {\n                return;\n            }\n            grand_tr.parentNode?.removeChild(grand_tr);\n            console.log(`テーブルを一行削除する${event}`);\n        });\n        return node_button_remove;\n    }\n}\nexports.IncrementalTableBuilder = IncrementalTableBuilder;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./config-builder\"), exports);\n__exportStar(require(\"./config-manager\"), exports);\n__exportStar(require(\"./config-utilities\"), exports);\n__exportStar(require(\"./field-builder\"), exports);\n__exportStar(require(\"./incremental-table-builder\"), exports);\n__exportStar(require(\"./common\"), exports);\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonInstaller = void 0;\nconst utils_1 = require(\"./utils\");\nrequire(\"@shin-chan/kypes\");\nclass ButtonInstaller {\n    class_hms_button = 'button-hms-items';\n    buttons = [];\n    canvas;\n    constructor(classname = '') {\n        if (classname != '') {\n            this.class_hms_button = classname;\n        }\n    }\n    create_button(icon_label, tooltip = '') {\n        const icon = utils_1.Utils.ce('span', '', [], icon_label);\n        icon.style.color = 'dodgerblue';\n        let button = utils_1.Utils.ce('button', this.class_hms_button, [icon], '', {\n            'title': tooltip\n        });\n        button = utils_1.Utils.decorate_menu_icon(button);\n        console.log(icon_label.length);\n        if (icon_label.length > 2) {\n            button.style.fontSize = '16px';\n        }\n        return button;\n    }\n    add_button(button) {\n        this.buttons.push(button);\n    }\n    install() {\n        if (this.already_installed()) {\n            console.info('ボタンはすでに設置済みです。');\n            return;\n        }\n        if (this.buttons.length == 0) {\n            console.info('ボタンが設定されていません。何もせずに終了します。');\n            return;\n        }\n        this.put_buttons(this.buttons);\n    }\n    set_canvas(canvas) {\n        this.canvas = canvas;\n    }\n    get_hms() {\n        const hms = kintone.app.getHeaderMenuSpaceElement();\n        if (hms == undefined) {\n            const msg = 'ボタン配置スペースが取得できませんでした。';\n            console.error(msg);\n            throw new Error(msg);\n        }\n        return hms;\n    }\n    already_installed() {\n        const hms_buttons = document.getElementsByClassName(this.class_hms_button);\n        if (hms_buttons.length > 0) {\n            return true;\n        }\n        return false;\n    }\n    put_buttons(buttons) {\n        const hms = this.canvas === undefined ? this.get_hms() : this.canvas;\n        buttons.forEach((btn) => {\n            console.log(hms);\n            hms.append(btn);\n        });\n    }\n    get_header_element(index_text) {\n        const headers = document.querySelectorAll('.recordlist-header-label-gaia');\n        return Array.from(headers).filter((header) => {\n            return header.textContent == index_text;\n        });\n    }\n}\nexports.ButtonInstaller = ButtonInstaller;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./utils\"), exports);\n__exportStar(require(\"./button_installer\"), exports);\n__exportStar(require(\"./plugin_canvas\"), exports);\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PluginCanvas = void 0;\nconst utils_1 = require(\"./utils\");\nrequire(\"@shin-chan/kypes\");\nclass PluginCanvas {\n    static CLASS_DISMISS = 'offcanvas-dismiss';\n    id_island;\n    id_offcanvas;\n    title_offcanvas;\n    island;\n    enable_offcanvas;\n    constructor(title, id_island, default_element = null, icon_element = undefined) {\n        this.title_offcanvas = title;\n        this.id_island = `plugin_island_id_${id_island}`;\n        this.id_offcanvas = `offcanvas_${this.id_island}`;\n        if (id_island == \"\") {\n            console.log(`[${this.constructor.name}] オフキャンバスを使いません。`);\n            if (default_element == null) {\n                default_element = kintone.app.getHeaderMenuSpaceElement();\n            }\n            if (default_element == null) {\n                throw new Error('kintone.app.HeaderMenuSpaceElement() を取得できませんでした。');\n            }\n            this.island = default_element;\n            this.enable_offcanvas = false;\n            return;\n        }\n        this.enable_offcanvas = true;\n        const already = document.getElementById(this.id_island);\n        if (already) {\n            console.log(`[${this.constructor.name}] 既存のオフキャンバスを使用します。`);\n            this.island = already;\n        }\n        else {\n            console.log(`[${this.constructor.name}] オフキャンバスをID[${this.id_island}]で作成します。`);\n            const icon_balloon = ((icon) => {\n                if (icon) {\n                    return icon;\n                }\n                else {\n                    const baloon = utils_1.Utils.ce('span', '', [], '🎈');\n                    baloon.style.cursor = 'pointer';\n                    return baloon;\n                }\n            })(icon_element);\n            icon_balloon.style.color = 'dodgerblue';\n            let island = utils_1.Utils.ce('div', 'bbk-tool-icon-box', [icon_balloon], '', {\n                'id': this.id_island,\n                'data-bs-toggle': 'offcanvas',\n                'aria-controls': this.id_offcanvas,\n                'data-bs-target': `#${this.id_offcanvas}`\n            });\n            island = utils_1.Utils.decorate_menu_icon(island);\n            this.island = island;\n            this.init_offcanvas();\n        }\n    }\n    init_offcanvas() {\n        const headerSpace = kintone.app.getHeaderMenuSpaceElement();\n        if (headerSpace) {\n            headerSpace.appendChild(this.get_node());\n            headerSpace.appendChild(this.build_node_offcanvas());\n        }\n    }\n    get_node() {\n        return this.island;\n    }\n    build_node_offcanvas() {\n        return utils_1.Utils.ce('div', 'offcanvas offcanvas-start', [\n            utils_1.Utils.ce('div', 'offcanvas-header', [\n                utils_1.Utils.ce('h5', 'offcanvas-title', [], this.title_offcanvas, {\n                    'id': `${this.id_offcanvas}Label`\n                }),\n                utils_1.Utils.ce('button', 'btn-close text-reset', [], '', {\n                    'data-bs-dismiss': 'offcanvas',\n                    'aria-label': 'Close'\n                })\n            ]),\n            utils_1.Utils.ce('div', 'offcanvas-body', [\n                utils_1.Utils.ce('div', 'mb-4', [], 'ここから各種プラグインを呼び出せます。')\n            ], '', {\n                'id': `${this.id_offcanvas}-body`\n            })\n        ], '', {\n            'tabindex': '-1',\n            'id': `${this.id_offcanvas}`,\n            'aria-labelledby': `${this.id_offcanvas}Label`,\n            'data-bs-backdrop': 'false'\n        });\n    }\n    append(node) {\n        if (this.enable_offcanvas) {\n            const offcanvas = document.getElementById(`${this.id_offcanvas}-body`);\n            this.deal_dismiss_attribute(node);\n            offcanvas?.appendChild(node);\n        }\n        else {\n            this.island.append(node);\n        }\n    }\n    deal_dismiss_attribute(node) {\n        const dismissElements = Array.from(node.querySelectorAll(`.${PluginCanvas.CLASS_DISMISS}`));\n        console.log(dismissElements);\n        if (dismissElements.length > 0) {\n            dismissElements.map((element) => {\n                element.setAttribute('data-bs-dismiss', \"offcanvas\");\n            });\n        }\n        else {\n            node.setAttribute('data-bs-dismiss', \"offcanvas\");\n        }\n    }\n}\nexports.PluginCanvas = PluginCanvas;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Utils = void 0;\nclass Utils {\n    static unique_properties(props, with_record_number = false) {\n        const results = [];\n        for (const fieldcode of Object.keys(props)) {\n            const prop = props[fieldcode];\n            if (prop.unique == true) {\n                results.push(prop);\n            }\n            else if (with_record_number && prop['type'] == 'RECORD_NUMBER') {\n                results.push(prop);\n            }\n        }\n        return results;\n    }\n    static is_not_empty_string(test_str) {\n        return !Utils.is_empty_string(test_str);\n    }\n    static is_empty_string(test_str) {\n        if (test_str == null || test_str == undefined) {\n            return true;\n        }\n        if (test_str.length > 0) {\n            return false;\n        }\n        return true;\n    }\n    static get_from = (dic, conf_key, defaults) => {\n        if (dic.hasOwnProperty(conf_key)) {\n            return dic[conf_key];\n        }\n        return defaults;\n    };\n    static buildElement = (params) => {\n        const tag = params['tagName'];\n        const cl = params['className'] ? params['className'] : \"\";\n        const ce = params['childElements'] ? params['childElements'] : [];\n        const tc = params['textContent'] ? params['textContent'] : undefined;\n        const ih = params['innerHTML'] ? params['innerHTML'] : undefined;\n        const at = params['attrs'] ? params['attrs'] : {};\n        return Utils.createElement(tag, cl, ce, tc, at, ih);\n    };\n    static createElement = (tagName, className = \"\", childElements = [], textContent = undefined, attrs = undefined, innerHTML = undefined) => {\n        const el = document.createElement(tagName);\n        el.className = className;\n        if (textContent != undefined) {\n            el.textContent = textContent;\n        }\n        if (innerHTML != undefined) {\n            el.innerHTML = innerHTML;\n        }\n        if (childElements.length > 0) {\n            childElements.forEach((child) => {\n                el.appendChild(child);\n            });\n        }\n        if (attrs) {\n            Object.entries(attrs).forEach(([key, value]) => {\n                el.setAttribute(key, value);\n            });\n        }\n        return el;\n    };\n    static ce = (t, c = \"\", ce = [], tc = \"\", at = undefined) => {\n        return this.createElement(t, c, ce, tc, at);\n    };\n    static decorate_menu_icon(el) {\n        el.style.height = '48px';\n        el.style.backgroundColor = '#f7f9fa';\n        el.style.fontSize = '28px';\n        el.style.border = '1px solid #e3e7e8';\n        el.style.display = 'inline';\n        el.style.marginLeft = '2px';\n        el.style.marginRight = '2px';\n        el.style.verticalAlign = 'middle';\n        return el;\n    }\n    static simpleDiv = (msg) => {\n        return Utils.createElement('div', '', [], msg);\n    };\n    static is_overlapped = (list) => {\n        const overlapped = Utils.overlapped(list);\n        if (overlapped.length > 0) {\n            return true;\n        }\n        return false;\n    };\n    static overlapped = (list) => {\n        const overlapped = list.filter((x, _i, self) => {\n            return self.indexOf(x) !== self.lastIndexOf(x);\n        });\n        return Array.from(new Set(overlapped));\n    };\n    static get_application_url(appid) {\n        return `${location.protocol}//${location.host}/k/${appid}`;\n    }\n    static retrieve_errors(error, max_msgs = -1) {\n        const errors = error?.error?.errors;\n        if (errors == undefined) {\n            return undefined;\n        }\n        let whole_errors = [];\n        Object.keys(errors).forEach((field) => {\n            const msgs = errors[field].messages;\n            const comments = msgs.map((msg) => {\n                return `[${field}] ${msg}`;\n            });\n            whole_errors = whole_errors.concat(comments);\n        });\n        whole_errors.sort();\n        if (max_msgs >= 0 && max_msgs < whole_errors.length) {\n            const remain_msgs = whole_errors.length - max_msgs;\n            whole_errors = whole_errors.splice(0, max_msgs);\n            whole_errors.push(`以下${remain_msgs}件のエラーメッセージを省略しました。`);\n        }\n        return whole_errors;\n    }\n}\nexports.Utils = Utils;\n","module.exports = {};\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonInstaller = void 0;\nconst utils_1 = require(\"./utils\");\nrequire(\"@shin-chan/kypes\");\nclass ButtonInstaller {\n    class_hms_button = 'button-hms-items';\n    buttons = [];\n    canvas;\n    constructor(classname = '') {\n        if (classname != '') {\n            this.class_hms_button = classname;\n        }\n    }\n    create_button(icon_label, tooltip = '') {\n        const icon = utils_1.Utils.ce('span', '', [], icon_label);\n        icon.style.color = 'dodgerblue';\n        let button = utils_1.Utils.ce('button', this.class_hms_button, [icon], '', {\n            'title': tooltip\n        });\n        button = utils_1.Utils.decorate_menu_icon(button);\n        console.log(icon_label.length);\n        if (icon_label.length > 2) {\n            button.style.fontSize = '16px';\n        }\n        return button;\n    }\n    add_button(button) {\n        this.buttons.push(button);\n    }\n    install() {\n        if (this.already_installed()) {\n            console.info('ボタンはすでに設置済みです。');\n            return;\n        }\n        if (this.buttons.length == 0) {\n            console.info('ボタンが設定されていません。何もせずに終了します。');\n            return;\n        }\n        this.put_buttons(this.buttons);\n    }\n    set_canvas(canvas) {\n        this.canvas = canvas;\n    }\n    get_hms() {\n        const hms = kintone.app.getHeaderMenuSpaceElement();\n        if (hms == undefined) {\n            const msg = 'ボタン配置スペースが取得できませんでした。';\n            console.error(msg);\n            throw new Error(msg);\n        }\n        return hms;\n    }\n    already_installed() {\n        const hms_buttons = document.getElementsByClassName(this.class_hms_button);\n        if (hms_buttons.length > 0) {\n            return true;\n        }\n        return false;\n    }\n    put_buttons(buttons) {\n        const hms = this.canvas === undefined ? this.get_hms() : this.canvas;\n        buttons.forEach((btn) => {\n            console.log(hms);\n            hms.append(btn);\n        });\n    }\n    get_header_element(index_text) {\n        const headers = document.querySelectorAll('.recordlist-header-label-gaia');\n        return Array.from(headers).filter((header) => {\n            return header.textContent == index_text;\n        });\n    }\n}\nexports.ButtonInstaller = ButtonInstaller;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./utils\"), exports);\n__exportStar(require(\"./button_installer\"), exports);\n__exportStar(require(\"./plugin_canvas\"), exports);\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PluginCanvas = void 0;\nconst utils_1 = require(\"./utils\");\nrequire(\"@shin-chan/kypes\");\nclass PluginCanvas {\n    static CLASS_DISMISS = 'offcanvas-dismiss';\n    id_island;\n    id_offcanvas;\n    title_offcanvas;\n    island;\n    enable_offcanvas;\n    constructor(title, id_island, default_element = null, icon_element = undefined) {\n        this.title_offcanvas = title;\n        this.id_island = `plugin_island_id_${id_island}`;\n        this.id_offcanvas = `offcanvas_${this.id_island}`;\n        if (id_island == \"\") {\n            console.log(`[${this.constructor.name}] オフキャンバスを使いません。`);\n            if (default_element == null) {\n                default_element = kintone.app.getHeaderMenuSpaceElement();\n            }\n            if (default_element == null) {\n                throw new Error('kintone.app.HeaderMenuSpaceElement() を取得できませんでした。');\n            }\n            this.island = default_element;\n            this.enable_offcanvas = false;\n            return;\n        }\n        this.enable_offcanvas = true;\n        const already = document.getElementById(this.id_island);\n        if (already) {\n            console.log(`[${this.constructor.name}] 既存のオフキャンバスを使用します。`);\n            this.island = already;\n        }\n        else {\n            console.log(`[${this.constructor.name}] オフキャンバスをID[${this.id_island}]で作成します。`);\n            const icon_balloon = ((icon) => {\n                if (icon) {\n                    return icon;\n                }\n                else {\n                    const baloon = utils_1.Utils.ce('span', '', [], '🎈');\n                    baloon.style.cursor = 'pointer';\n                    return baloon;\n                }\n            })(icon_element);\n            icon_balloon.style.color = 'dodgerblue';\n            let island = utils_1.Utils.ce('div', 'bbk-tool-icon-box', [icon_balloon], '', {\n                'id': this.id_island,\n                'data-bs-toggle': 'offcanvas',\n                'aria-controls': this.id_offcanvas,\n                'data-bs-target': `#${this.id_offcanvas}`\n            });\n            island = utils_1.Utils.decorate_menu_icon(island);\n            this.island = island;\n            this.init_offcanvas();\n        }\n    }\n    init_offcanvas() {\n        const headerSpace = kintone.app.getHeaderMenuSpaceElement();\n        if (headerSpace) {\n            headerSpace.appendChild(this.get_node());\n            headerSpace.appendChild(this.build_node_offcanvas());\n        }\n    }\n    get_node() {\n        return this.island;\n    }\n    build_node_offcanvas() {\n        return utils_1.Utils.ce('div', 'offcanvas offcanvas-start', [\n            utils_1.Utils.ce('div', 'offcanvas-header', [\n                utils_1.Utils.ce('h5', 'offcanvas-title', [], this.title_offcanvas, {\n                    'id': `${this.id_offcanvas}Label`\n                }),\n                utils_1.Utils.ce('button', 'btn-close text-reset', [], '', {\n                    'data-bs-dismiss': 'offcanvas',\n                    'aria-label': 'Close'\n                })\n            ]),\n            utils_1.Utils.ce('div', 'offcanvas-body', [\n                utils_1.Utils.ce('div', 'mb-4', [], 'ここから各種プラグインを呼び出せます。')\n            ], '', {\n                'id': `${this.id_offcanvas}-body`\n            })\n        ], '', {\n            'tabindex': '-1',\n            'id': `${this.id_offcanvas}`,\n            'aria-labelledby': `${this.id_offcanvas}Label`,\n            'data-bs-backdrop': 'false'\n        });\n    }\n    append(node) {\n        if (this.enable_offcanvas) {\n            const offcanvas = document.getElementById(`${this.id_offcanvas}-body`);\n            this.deal_dismiss_attribute(node);\n            offcanvas?.appendChild(node);\n        }\n        else {\n            this.island.append(node);\n        }\n    }\n    deal_dismiss_attribute(node) {\n        const dismissElements = Array.from(node.querySelectorAll(`.${PluginCanvas.CLASS_DISMISS}`));\n        console.log(dismissElements);\n        if (dismissElements.length > 0) {\n            dismissElements.map((element) => {\n                element.setAttribute('data-bs-dismiss', \"offcanvas\");\n            });\n        }\n        else {\n            node.setAttribute('data-bs-dismiss', \"offcanvas\");\n        }\n    }\n}\nexports.PluginCanvas = PluginCanvas;\n","\"use strict\";\n/*!\n * Copyright 2023 Daisuke Motohashi\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Utils = void 0;\nclass Utils {\n    static unique_properties(props, with_record_number = false) {\n        const results = [];\n        for (const fieldcode of Object.keys(props)) {\n            const prop = props[fieldcode];\n            if (prop.unique == true) {\n                results.push(prop);\n            }\n            else if (with_record_number && prop['type'] == 'RECORD_NUMBER') {\n                results.push(prop);\n            }\n        }\n        return results;\n    }\n    static is_not_empty_string(test_str) {\n        return !Utils.is_empty_string(test_str);\n    }\n    static is_empty_string(test_str) {\n        if (test_str == null || test_str == undefined) {\n            return true;\n        }\n        if (test_str.length > 0) {\n            return false;\n        }\n        return true;\n    }\n    static get_from = (dic, conf_key, defaults) => {\n        if (dic.hasOwnProperty(conf_key)) {\n            return dic[conf_key];\n        }\n        return defaults;\n    };\n    static buildElement = (params) => {\n        const tag = params['tagName'];\n        const cl = params['className'] ? params['className'] : \"\";\n        const ce = params['childElements'] ? params['childElements'] : [];\n        const tc = params['textContent'] ? params['textContent'] : undefined;\n        const ih = params['innerHTML'] ? params['innerHTML'] : undefined;\n        const at = params['attrs'] ? params['attrs'] : {};\n        return Utils.createElement(tag, cl, ce, tc, at, ih);\n    };\n    static createElement = (tagName, className = \"\", childElements = [], textContent = undefined, attrs = undefined, innerHTML = undefined) => {\n        const el = document.createElement(tagName);\n        el.className = className;\n        if (textContent != undefined) {\n            el.textContent = textContent;\n        }\n        if (innerHTML != undefined) {\n            el.innerHTML = innerHTML;\n        }\n        if (childElements.length > 0) {\n            childElements.forEach((child) => {\n                el.appendChild(child);\n            });\n        }\n        if (attrs) {\n            Object.entries(attrs).forEach(([key, value]) => {\n                el.setAttribute(key, value);\n            });\n        }\n        return el;\n    };\n    static ce = (t, c = \"\", ce = [], tc = \"\", at = undefined) => {\n        return this.createElement(t, c, ce, tc, at);\n    };\n    static decorate_menu_icon(el) {\n        el.style.height = '48px';\n        el.style.backgroundColor = '#f7f9fa';\n        el.style.fontSize = '28px';\n        el.style.border = '1px solid #e3e7e8';\n        el.style.display = 'inline';\n        el.style.marginLeft = '2px';\n        el.style.marginRight = '2px';\n        el.style.verticalAlign = 'middle';\n        return el;\n    }\n    static simpleDiv = (msg) => {\n        return Utils.createElement('div', '', [], msg);\n    };\n    static is_overlapped = (list) => {\n        const overlapped = Utils.overlapped(list);\n        if (overlapped.length > 0) {\n            return true;\n        }\n        return false;\n    };\n    static overlapped = (list) => {\n        const overlapped = list.filter((x, _i, self) => {\n            return self.indexOf(x) !== self.lastIndexOf(x);\n        });\n        return Array.from(new Set(overlapped));\n    };\n    static get_application_url(appid) {\n        return `${location.protocol}//${location.host}/k/${appid}`;\n    }\n    static retrieve_errors(error, max_msgs = -1) {\n        const errors = error?.error?.errors;\n        if (errors == undefined) {\n            return undefined;\n        }\n        let whole_errors = [];\n        Object.keys(errors).forEach((field) => {\n            const msgs = errors[field].messages;\n            const comments = msgs.map((msg) => {\n                return `[${field}] ${msg}`;\n            });\n            whole_errors = whole_errors.concat(comments);\n        });\n        whole_errors.sort();\n        if (max_msgs >= 0 && max_msgs < whole_errors.length) {\n            const remain_msgs = whole_errors.length - max_msgs;\n            whole_errors = whole_errors.splice(0, max_msgs);\n            whole_errors.push(`以下${remain_msgs}件のエラーメッセージを省略しました。`);\n        }\n        return whole_errors;\n    }\n}\nexports.Utils = Utils;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// 定数定義、configとdesktopの双方で使う定義値をここで記述する\r\nexport const CONSTANTS = {\r\n    // プラグインのタイトル\r\n    PLUGIN_NAME: 'ChatGPT連携プラグイン'\r\n\r\n    // 分類が未選択の場合に表示する文字列\r\n    , EMPTY_LABEL: \"----\"\r\n\r\n    // API Key\r\n    , API_KEY: 'api_key'\r\n\r\n    // ChatGPT Model ID\r\n    , MODEL_ID: 'model_id'\r\n\r\n    // 固定プロンプト\r\n    , STATIC_PROMPT: 'static_prompt'\r\n\r\n    // レコード個別プロンプト\r\n    , UNIQUE_PROMPT: 'unique_prompt'\r\n\r\n    // 入力フィールド選択\r\n    , INPUT_FIELD: 'input_field'\r\n\r\n    // 出力フィールド選択\r\n    , OUTPUT_FIELD: 'output_field'\r\n\r\n    // 実行ボタン配置スペース\r\n    , BTN_SPACE_FIELD: 'btn_space_field'\r\n\r\n    // レコード編集モード\r\n    , FLAG_RECORD_MODIFIER: 'flag_record_modifier'\r\n    , LABELS_RECORD_MODIFIER: ['enable', 'disable']\r\n\r\n    // レスポンスの最長トークン\r\n    , NUMBER_MAX_TOKENS: 'NUMBER_MAX_TOKENS'\r\n\r\n    // systemロールのプロンプト\r\n    , SYSTEM_PROMPT: 'system_prompt'\r\n\r\n    // fewshotを定義するテーブル\r\n    , TABLE_FEWSHOTS_PROMPT: 'table_fewshot_prompt'\r\n    // テーブルの各項目\r\n    , TABLE_FEWSHOTS: {\r\n        'role': '役割'\r\n        , 'content': 'プロンプト'\r\n    }\r\n};\r\n\r\n// export type fewshots_keys =  keyof typeof CONSTANTS.TABLE_FEWSHOTS\r\n","import { FieldType, KintoneConfigSetting, KintonePluginPreference } from \"plugin-parameters-helper\";\r\nimport { CONSTANTS } from \"../constants\";\r\n\r\n// 設定項目に関する設定、デスクトップ側からも参照する。\r\nexport class Settings {\r\n    // 設定項目の定義\r\n    static preference: KintonePluginPreference = {\r\n        'title': 'ChatGPT連携プラグインの設定'\r\n        , 'description': ''\r\n    }\r\n\r\n    static input: KintoneConfigSetting = [\r\n        // {\r\n        //     'label': '100万個の設定項目'\r\n        //     , 'desc': 'このプラグインはフィクションであり、実在のアプリやプラグインとは無関係です。'\r\n        //     , 'type': FieldType.Label\r\n        // }\r\n        // , {\r\n        //     'label': '100万行のサブテーブル'\r\n        //     , 'desc': 'この地獄のような設定テーブルもサンプルです。'\r\n        //     , 'code': 'sample'\r\n        //     , 'type': FieldType.IncrementalTable\r\n        //     , 'required': false\r\n        //     , 'table_cols': [\r\n        //         {\r\n        //             'header': CONSTANTS.TABLE_FEWSHOTS.role\r\n        //             , 'type': FieldType.Dropdown\r\n        //             , 'accept': ['user', 'assistant']\r\n        //         }\r\n        //         , {\r\n        //             'header': '姓'\r\n        //             , 'type': FieldType.Text\r\n        //             , 'cols': 10\r\n        //         }\r\n        //         , {\r\n        //             'header': '名'\r\n        //             , 'type': FieldType.Text\r\n        //             , 'cols': 1\r\n        //         }\r\n        //         , {\r\n        //             'header': 'ミドルネーム'\r\n        //             , 'type': FieldType.Text\r\n        //         }\r\n        //         , {\r\n        //             'header': '字'\r\n        //             , 'type': FieldType.Text\r\n        //         }\r\n        //         , {\r\n        //             'header': '仮名'\r\n        //             , 'type': FieldType.Text\r\n        //         }\r\n        //         , {\r\n        //             'header': '幼名'\r\n        //             , 'type': FieldType.Text\r\n        //         }\r\n        //         , {\r\n        //             'header': '芸名'\r\n        //             , 'type': FieldType.Text\r\n        //         }\r\n        //         , {\r\n        //             'header': 'アカウント名'\r\n        //             , 'type': FieldType.Text\r\n        //         }\r\n        //     ]\r\n        // },\r\n        {\r\n            'label': 'ChatGPTの設定'\r\n            , 'desc': 'API呼び出しに必要な項目を指定します。'\r\n            , 'type': FieldType.Label\r\n        }\r\n        , {\r\n            'label': 'API Key'\r\n            , 'desc': 'ChatGPT APIのAPI Tokenを指定してください。'\r\n            , 'code': CONSTANTS.API_KEY\r\n            , 'type': FieldType.Text\r\n            , 'required': true\r\n            , 'secret': true\r\n            , 'URL': 'https://api.openai.com/v1/chat/completions'\r\n            , 'method': 'POST'\r\n            , 'header': 'Authorization Bearer'\r\n        }\r\n        , {\r\n            'label': 'ChatGPTの利用モデル'\r\n            , 'desc': '利用モデル名を入力してください。デフォルトは \"gpt-3.5-turbo\" です。'\r\n            , 'code': CONSTANTS.MODEL_ID\r\n            , 'type': FieldType.Text\r\n            , 'default': 'gpt-3.5-turbo'\r\n            , 'required': true\r\n        }\r\n        , {\r\n            'label': 'MAX Tokens'\r\n            , 'desc': 'レスポンスの最大トークン長を指定してください。'\r\n            , 'code': CONSTANTS.NUMBER_MAX_TOKENS\r\n            , 'type': FieldType.Number\r\n            , 'default': '512'\r\n            , 'required': true\r\n        }\r\n        , {\r\n            'label': '役割プロンプト'\r\n            , 'desc': 'ChatGPTの役割を与えます。あなたはカウンセラーです。のような役割をプロンプトしてください。'\r\n            , 'code': CONSTANTS.SYSTEM_PROMPT\r\n            , 'type': FieldType.MultilineText\r\n            , 'rows': 3\r\n            , 'cols': 50\r\n            , 'required': false\r\n        }\r\n        , {\r\n            'label': '対話例プロンプト'\r\n            , 'desc': '会話の例をChatGPTに教えます。この項目が長くなる場合はMAX Tokensの値を増やしてください。'\r\n            , 'code': CONSTANTS.TABLE_FEWSHOTS_PROMPT\r\n            , 'type': FieldType.IncrementalTable\r\n            , 'required': false\r\n            , 'table_cols': [\r\n                {\r\n                    'header': CONSTANTS.TABLE_FEWSHOTS.role\r\n                    , 'type': FieldType.Dropdown\r\n                    , 'accept': ['user', 'assistant']\r\n                }\r\n                , {\r\n                    'header': CONSTANTS.TABLE_FEWSHOTS.content\r\n                    , 'type': FieldType.MultilineText\r\n                }\r\n            ]\r\n        }\r\n        , {\r\n            'label': ''\r\n            , 'desc': '=============================================='\r\n            , 'type': FieldType.Separator\r\n            , 'required': false\r\n        }\r\n        , {\r\n            'label': 'プラグインの動作設定'\r\n            , 'desc': 'ボタンの配置やレコード単位でプロンプトとして使用するフィールドなどを設定します。'\r\n            , 'type': FieldType.Label\r\n        }\r\n        , {\r\n            'label': '実行ボタン配置スペース選択'\r\n            , 'desc': 'API呼び出しを実行するボタンを配置するスペースを選択してください。'\r\n            , 'code': CONSTANTS.BTN_SPACE_FIELD\r\n            , 'type': FieldType.Dropdown_FieldSelect\r\n            , 'accept': ['SPACER']\r\n            , 'required': true\r\n        }\r\n        // , {\r\n        //     'label': '固定プロンプト'\r\n        //     , 'desc': '入力として毎回渡す固定のプロンプトを記入してください。'\r\n        //     , 'code': CONSTANTS.STATIC_PROMPT\r\n        //     , 'type': FieldType.MultilineText\r\n        //     , 'required': false\r\n        // }\r\n        // , {\r\n        //     'label': 'レコード別プロンプト'\r\n        //     , 'desc': 'レコード別に指定するプロンプトフィールドを選択してください。'\r\n        //     , 'code': CONSTANTS.UNIQUE_PROMPT\r\n        //     , 'type': FieldType.Dropdown_FieldSelect\r\n        //     , 'accept': ['SINGLE_LINE_TEXT', 'MULTI_LINE_TEXT']\r\n        //     , 'default': CONSTANTS.EMPTY_LABEL\r\n        //     , 'required': false\r\n        // }\r\n        , {\r\n            'label': '[danger] レコード編集モード'\r\n            , 'desc': '有効にするとレコード全体を編集対象として書き換えるモードで動作します。その際、↓以降の設定は無効になります。よくわからない場合はdisableにしておいてください。'\r\n            , 'code': CONSTANTS.FLAG_RECORD_MODIFIER\r\n            , 'type': FieldType.Radio\r\n            , 'accept': CONSTANTS.LABELS_RECORD_MODIFIER\r\n            , 'default': CONSTANTS.LABELS_RECORD_MODIFIER[1]\r\n            , 'required': true\r\n        }\r\n        , {\r\n            'label': ''\r\n            , 'desc': '=============================================='\r\n            , 'type': FieldType.Separator\r\n            , 'required': false\r\n        }\r\n        , {\r\n            'label': 'kintoneのフィールド設定'\r\n            , 'desc': 'ChatGPTに問い合わせる入力フィールドと、回答を出力する出力フィールドを設定します。'\r\n            , 'type': FieldType.Label\r\n        }\r\n        , {\r\n            'label': '入力フィールド選択'\r\n            , 'desc': '入力として使用するフィールドを選択してください'\r\n            , 'code': CONSTANTS.INPUT_FIELD\r\n            , 'type': FieldType.Dropdown_FieldSelect\r\n            , 'accept': ['SINGLE_LINE_TEXT', 'MULTI_LINE_TEXT']\r\n            , 'required': true\r\n        }\r\n        , {\r\n            'label': '出力フィールド選択'\r\n            , 'desc': 'ChatGPTの返答を入力するフィールドを選択してください。'\r\n            , 'code': CONSTANTS.OUTPUT_FIELD\r\n            , 'type': FieldType.Dropdown_FieldSelect\r\n            , 'accept': ['MULTI_LINE_TEXT']\r\n            , 'required': true\r\n        }\r\n    ]\r\n}\r\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=window,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),n=new WeakMap;class o{constructor(t,e,n){if(this._$cssResult$=!0,n!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=n.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&n.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new o(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,s,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[n+1]),t[0]);return new o(n,t,s)},S=(s,n)=>{e?s.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((e=>{const n=document.createElement(\"style\"),o=t.litNonce;void 0!==o&&n.setAttribute(\"nonce\",o),n.textContent=e.cssText,s.appendChild(n)}))},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{o as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as i}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var s;const e=window,r=e.trustedTypes,h=r?r.emptyScript:\"\",o=e.reactiveElementPolyfillSupport,n={toAttribute(t,i){switch(i){case Boolean:t=t?h:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,i){let s=t;switch(i){case Boolean:s=null!==t;break;case Number:s=null===t?null:Number(t);break;case Object:case Array:try{s=JSON.parse(t)}catch(t){s=null}}return s}},a=(t,i)=>i!==t&&(i==i||t==t),l={attribute:!0,type:String,converter:n,reflect:!1,hasChanged:a};class d extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var i;this.finalize(),(null!==(i=this.h)&&void 0!==i?i:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((i,s)=>{const e=this._$Ep(s,i);void 0!==e&&(this._$Ev.set(e,s),t.push(e))})),t}static createProperty(t,i=l){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(t,i),!i.noAccessor&&!this.prototype.hasOwnProperty(t)){const s=\"symbol\"==typeof t?Symbol():\"__\"+t,e=this.getPropertyDescriptor(t,s,i);void 0!==e&&Object.defineProperty(this.prototype,t,e)}}static getPropertyDescriptor(t,i,s){return{get(){return this[i]},set(e){const r=this[t];this[i]=e,this.requestUpdate(t,r,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||l}static finalize(){if(this.hasOwnProperty(\"finalized\"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty(\"properties\")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of i)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(i){const s=[];if(Array.isArray(i)){const e=new Set(i.flat(1/0).reverse());for(const i of e)s.unshift(t(i))}else void 0!==i&&s.push(t(i));return s}static _$Ep(t,i){const s=i.attribute;return!1===s?void 0:\"string\"==typeof s?s:\"string\"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(s=t.hostConnected)||void 0===s||s.call(t))}removeController(t){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i])}))}createRenderRoot(){var t;const s=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return i(s,this.constructor.elementStyles),s}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostConnected)||void 0===i?void 0:i.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostDisconnected)||void 0===i?void 0:i.call(t)}))}attributeChangedCallback(t,i,s){this._$AK(t,s)}_$EO(t,i,s=l){var e;const r=this.constructor._$Ep(t,s);if(void 0!==r&&!0===s.reflect){const h=(void 0!==(null===(e=s.converter)||void 0===e?void 0:e.toAttribute)?s.converter:n).toAttribute(i,s.type);this._$El=t,null==h?this.removeAttribute(r):this.setAttribute(r,h),this._$El=null}}_$AK(t,i){var s;const e=this.constructor,r=e._$Ev.get(t);if(void 0!==r&&this._$El!==r){const t=e.getPropertyOptions(r),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(s=t.converter)||void 0===s?void 0:s.fromAttribute)?t.converter:n;this._$El=r,this[r]=h.fromAttribute(i,t.type),this._$El=null}}requestUpdate(t,i,s){let e=!0;void 0!==t&&(((s=s||this.constructor.getPropertyOptions(t)).hasChanged||a)(this[t],i)?(this._$AL.has(t)||this._$AL.set(t,i),!0===s.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,s))):e=!1),!this.isUpdatePending&&e&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,i)=>this[i]=t)),this._$Ei=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var i;return null===(i=t.hostUpdate)||void 0===i?void 0:i.call(t)})),this.update(s)):this._$Ek()}catch(t){throw i=!1,this._$Ek(),t}i&&this._$AE(s)}willUpdate(t){}_$AE(t){var i;null===(i=this._$ES)||void 0===i||i.forEach((t=>{var i;return null===(i=t.hostUpdated)||void 0===i?void 0:i.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,i)=>this._$EO(i,this[i],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}d.finalized=!0,d.elementProperties=new Map,d.elementStyles=[],d.shadowRootOptions={mode:\"open\"},null==o||o({ReactiveElement:d}),(null!==(s=e.reactiveElementVersions)&&void 0!==s?s:e.reactiveElementVersions=[]).push(\"1.6.1\");export{d as ReactiveElement,n as defaultConverter,a as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=window,s=i.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,o=`lit$${(Math.random()+\"\").slice(9)}$`,n=\"?\"+o,l=`<${n}>`,h=document,r=(t=\"\")=>h.createComment(t),d=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,u=Array.isArray,c=t=>u(t)||\"function\"==typeof(null==t?void 0:t[Symbol.iterator]),v=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,a=/-->/g,f=/>/g,_=RegExp(\">|[ \\t\\n\\f\\r](?:([^\\\\s\\\"'>=/]+)([ \\t\\n\\f\\r]*=[ \\t\\n\\f\\r]*(?:[^ \\t\\n\\f\\r\\\"'`<>=]|(\\\"|')|))|$)\",\"g\"),m=/'/g,p=/\"/g,$=/^(?:script|style|textarea|title)$/i,g=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),y=g(1),w=g(2),x=Symbol.for(\"lit-noChange\"),b=Symbol.for(\"lit-nothing\"),T=new WeakMap,A=h.createTreeWalker(h,129,null,!1),E=(t,i)=>{const s=t.length-1,n=[];let h,r=2===i?\"<svg>\":\"\",d=v;for(let i=0;i<s;i++){const s=t[i];let e,u,c=-1,g=0;for(;g<s.length&&(d.lastIndex=g,u=d.exec(s),null!==u);)g=d.lastIndex,d===v?\"!--\"===u[1]?d=a:void 0!==u[1]?d=f:void 0!==u[2]?($.test(u[2])&&(h=RegExp(\"</\"+u[2],\"g\")),d=_):void 0!==u[3]&&(d=_):d===_?\">\"===u[0]?(d=null!=h?h:v,c=-1):void 0===u[1]?c=-2:(c=d.lastIndex-u[2].length,e=u[1],d=void 0===u[3]?_:'\"'===u[3]?p:m):d===p||d===m?d=_:d===a||d===f?d=v:(d=_,h=void 0);const y=d===_&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=d===v?s+l:c>=0?(n.push(e),s.slice(0,c)+\"$lit$\"+s.slice(c)+o+y):s+o+(-2===c?(n.push(void 0),i):y)}const u=r+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\");if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return[void 0!==e?e.createHTML(u):u,n]};class C{constructor({strings:t,_$litType$:i},e){let l;this.parts=[];let h=0,d=0;const u=t.length-1,c=this.parts,[v,a]=E(t,i);if(this.el=C.createElement(v,e),A.currentNode=this.el.content,2===i){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(o)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+\"$lit$\").split(o),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:h,name:i[2],strings:t,ctor:\".\"===i[1]?M:\"?\"===i[1]?k:\"@\"===i[1]?H:S})}else c.push({type:6,index:h})}for(const i of t)l.removeAttribute(i)}if($.test(l.tagName)){const t=l.textContent.split(o),i=t.length-1;if(i>0){l.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)l.append(t[s],r()),A.nextNode(),c.push({type:2,index:++h});l.append(t[i],r())}}}else if(8===l.nodeType)if(l.data===n)c.push({type:2,index:h});else{let t=-1;for(;-1!==(t=l.data.indexOf(o,t+1));)c.push({type:7,index:h}),t+=o.length-1}h++}}static createElement(t,i){const s=h.createElement(\"template\");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===x)return i;let r=void 0!==e?null===(o=s._$Co)||void 0===o?void 0:o[e]:s._$Cl;const u=d(i)?void 0:i._$litDirective$;return(null==r?void 0:r.constructor)!==u&&(null===(n=null==r?void 0:r._$AO)||void 0===n||n.call(r,!1),void 0===u?r=void 0:(r=new u(t),r._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Co)&&void 0!==l?l:h._$Co=[])[e]=r:s._$Cl=r),void 0!==r&&(i=P(t,r._$AS(t,i.values),r,e)),i}class V{constructor(t,i){this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:h).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),l=0,r=0,d=e[0];for(;void 0!==d;){if(l===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new I(n,this,t)),this.u.push(i),d=e[++r]}l!==(null==d?void 0:d.index)&&(n=A.nextNode(),l++)}return o}p(t){let i=0;for(const s of this.u)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=b,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cm=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cm}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),d(t)?t===b||null==t||\"\"===t?(this._$AH!==b&&this._$AR(),this._$AH=b):t!==this._$AH&&t!==x&&this.g(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):c(t)?this.k(t):this.g(t)}O(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}g(t){this._$AH!==b&&d(this._$AH)?this._$AA.nextSibling.data=t:this.T(h.createTextNode(t)),this._$AH=t}$(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=C.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.p(s);else{const t=new V(o,this),i=t.v(this.options);t.p(s),this.T(i),this._$AH=t}}_$AC(t){let i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new C(t)),i}k(t){u(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.O(r()),this.O(r()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cm=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class S{constructor(t,i,s,e,o){this.type=1,this._$AH=b,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=b}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!d(t)||t!==this._$AH&&t!==x,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===x&&(h=this._$AH[l]),n||(n=!d(h)||h!==this._$AH[l]),h===b?t=b:t!==b&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.j(t)}j(t){t===b?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class M extends S{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===b?void 0:t}}const R=s?s.emptyScript:\"\";class k extends S{constructor(){super(...arguments),this.type=4}j(t){t&&t!==b?this.element.setAttribute(this.name,R):this.element.removeAttribute(this.name)}}class H extends S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:b)===x)return;const e=this._$AH,o=t===b&&e!==b||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==b&&(e===b||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class I{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const L={P:\"$lit$\",A:o,M:n,C:1,L:E,R:V,D:c,V:P,I:N,H:S,N:k,U:H,B:M,F:I},z=i.litHtmlPolyfillSupport;null==z||z(C,N),(null!==(t=i.litHtmlVersions)&&void 0!==t?t:i.litHtmlVersions=[]).push(\"2.6.1\");const Z=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(r(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l};export{L as _$LH,y as html,x as noChange,b as nothing,Z as render,w as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var l,o;const r=t;class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return i}}s.finalized=!0,s._$litElement$=!0,null===(l=globalThis.litElementHydrateSupport)||void 0===l||l.call(globalThis,{LitElement:s});const n=globalThis.litElementPolyfillSupport;null==n||n({LitElement:s});const h={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push(\"3.2.2\");export{s as LitElement,r as UpdatingElement,h as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst i=(i,e)=>\"method\"===e.kind&&e.descriptor&&!(\"value\"in e.descriptor)?{...e,finisher(n){n.createProperty(e.key,i)}}:{kind:\"field\",key:Symbol(),placement:\"own\",descriptor:{},originalKey:e.key,initializer(){\"function\"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,i)}};function e(e){return(n,t)=>void 0!==t?((i,e,n)=>{e.constructor.createProperty(n,i)})(e,n,t):i(e,n)}export{e as property};\n//# sourceMappingURL=property.js.map\n","import{decorateProperty as o}from\"./base.js\";\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */var n;const e=null!=(null===(n=window.HTMLSlotElement)||void 0===n?void 0:n.prototype.assignedElements)?(o,n)=>o.assignedElements(n):(o,n)=>o.assignedNodes(n).filter((o=>o.nodeType===Node.ELEMENT_NODE));function l(n){const{slot:l,selector:t}=null!=n?n:{};return o({descriptor:o=>({get(){var o;const r=\"slot\"+(l?`[name=${l}]`:\":not([name])\"),i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(r),s=null!=i?e(i,n):[];return t?s.filter((o=>o.matches(t))):s},enumerable:!0,configurable:!0})})}export{l as queryAssignedElements};\n//# sourceMappingURL=query-assigned-elements.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","import { svg } from \"lit\";\nimport { MAX_HOURS12, MAX_HOURS24, MAX_MINUTES, TIME_SUFFIX, } from \"../resource/constant\";\nimport { en, ja, zh, zh_TW } from \"../resource/locale\";\nexport const getDisplayingDates = (year, month) => {\n    const dateRanges = getDateRanges(year, month);\n    let date = new Date(dateRanges.start);\n    let weekDates = [];\n    let count = 0;\n    const displayingDates = [];\n    while (date <= dateRanges.end) {\n        weekDates.push(getDateObj(date));\n        if (weekDates.length === 7) {\n            displayingDates.push(weekDates);\n            weekDates = [];\n        }\n        date.setDate(date.getDate() + 1);\n        date = new Date(date);\n        count++;\n    }\n    return displayingDates;\n};\nexport const generateTimeOptions = (isHour12, timeStep, min, max) => {\n    const timeOptions = [];\n    const newTimeStep = Math.round(timeStep);\n    const maxMinutes = convertTimeValueToMinutes(max);\n    const minMinutes = convertTimeValueToMinutes(min);\n    if (newTimeStep > 0) {\n        const limitLoop = Math.floor((maxMinutes - minMinutes) / newTimeStep) + 1;\n        for (let i = 0; i < limitLoop; i++) {\n            const timeOption = generateTimeOption(minMinutes + i * newTimeStep, isHour12);\n            timeOptions.push(timeOption);\n        }\n    }\n    return timeOptions;\n};\nconst generateTimeOption = (i, isHour12) => {\n    let hours, minutes;\n    hours = Math.floor(i / MAX_MINUTES);\n    minutes = i % MAX_MINUTES;\n    const ampm = hours % MAX_HOURS24 < MAX_HOURS12 ? TIME_SUFFIX.AM : TIME_SUFFIX.PM;\n    hours = isHour12 ? hours % MAX_HOURS12 : hours % MAX_HOURS24;\n    if (hours === 0 && isHour12)\n        hours = MAX_HOURS12;\n    if (hours < 10)\n        hours = \"0\" + hours;\n    if (minutes < 10)\n        minutes = \"0\" + minutes;\n    const timeOption = {\n        label: hours + \":\" + minutes + (isHour12 ? \" \" + ampm : \"\"),\n        value: hours + \":\" + minutes + (isHour12 ? \" \" + ampm : \"\"),\n    };\n    return timeOption;\n};\nexport const convertTimeValueToMinutes = (value) => {\n    const times = value.split(\":\");\n    let hours = parseInt(times[0], 10);\n    let minutes = parseInt(times[1], 10);\n    if (isNaN(hours) || isNaN(minutes)) {\n        return 0;\n    }\n    if (hours < 0) {\n        hours = 0;\n    }\n    else if (hours >= MAX_HOURS24) {\n        hours = MAX_HOURS24 - 1;\n    }\n    if (minutes < 0) {\n        minutes = 0;\n    }\n    else if (minutes >= MAX_MINUTES) {\n        minutes = MAX_MINUTES - 1;\n    }\n    return hours * MAX_MINUTES + minutes;\n};\nexport const timeCompare = (startTime, endTime) => {\n    const startTimeMinutes = convertTimeValueToMinutes(startTime);\n    const endTimeMinutes = convertTimeValueToMinutes(endTime);\n    if (startTimeMinutes > endTimeMinutes)\n        return 1;\n    if (startTimeMinutes === endTimeMinutes)\n        return 0;\n    return -1;\n};\nexport const formatTimeValueToInputValue = (value, hour12) => {\n    const times = value.split(\":\");\n    const hours = parseInt(times[0], 10);\n    const minutes = parseInt(times[1], 10);\n    const newHours = hours % MAX_HOURS24;\n    if (isNaN(newHours) || isNaN(minutes)) {\n        return {\n            hours: \"\",\n            minutes: \"\",\n            suffix: \"\",\n        };\n    }\n    if (hour12) {\n        return convertTime24To12(hours, minutes);\n    }\n    return {\n        hours: padStart(newHours),\n        minutes: padStart(minutes),\n        suffix: \"\",\n    };\n};\nexport const formatTimeValueToInputValueForMobile = (value, hour12) => {\n    const timeResult = { hours: \"\", minutes: \"\", suffix: \"\" };\n    const times = value.split(\":\");\n    const hours = parseInt(times[0], 10);\n    const minutes = parseInt(times[1], 10);\n    const newHours = hours % MAX_HOURS24;\n    if (!isNaN(newHours)) {\n        timeResult.hours = padStart(hour12 ? convertHour24To12(newHours) : newHours);\n        timeResult.suffix = hour12 ? convertSuffix24To12(newHours) : \"\";\n    }\n    if (!isNaN(minutes)) {\n        timeResult.minutes = padStart(minutes);\n    }\n    return timeResult;\n};\nexport const convertHour24To12 = (hours) => {\n    let newHours = hours % MAX_HOURS12;\n    newHours = newHours === 0 ? MAX_HOURS12 : newHours;\n    return newHours;\n};\nexport const convertSuffix24To12 = (hours) => {\n    return hours >= MAX_HOURS12 ? TIME_SUFFIX.PM : TIME_SUFFIX.AM;\n};\nexport const convertTime24To12 = (hours, minutes) => {\n    const suffix = convertSuffix24To12(hours);\n    const newHours = convertHour24To12(hours);\n    return {\n        hours: padStart(newHours),\n        minutes: padStart(minutes),\n        suffix: suffix,\n    };\n};\nexport const formatInputValueToTimeValue = (inputValue) => {\n    const [time, ampm] = inputValue.split(\" \");\n    const [hours, minutes] = time.split(\":\");\n    if (!ampm)\n        return inputValue;\n    const newHour = convertTime12To24(hours, ampm);\n    return `${newHour}:${minutes}`;\n};\nexport const convertTime12To24 = (hours, suffix) => {\n    const currentHour = parseInt(hours, 10);\n    if (suffix === TIME_SUFFIX.PM) {\n        const newHours = currentHour === MAX_HOURS12 ? 12 : currentHour + 12;\n        return padStart(newHours);\n    }\n    const newHours = currentHour === MAX_HOURS12 ? 0 : currentHour;\n    return padStart(newHours);\n};\nconst getDateObj = (date) => {\n    const tmpDate = new Date(date);\n    const year = tmpDate.getFullYear();\n    const month = padStart(tmpDate.getMonth() + 1);\n    const day = padStart(tmpDate.getDate());\n    const text = `${tmpDate.getFullYear()}-${tmpDate.getMonth() + 1}-${tmpDate.getDate()}`;\n    const attr = `${year}-${month}-${day}`;\n    return { text, attr };\n};\nexport const formatValueToInputValue = (language, date) => {\n    if (date && !isStringValueEmpty(date)) {\n        const dates = date.split(\"-\");\n        if (dates.length !== 3) {\n            return date;\n        }\n        const year = dates[0];\n        const month = dates[1];\n        const day = dates[2];\n        return language === \"en\"\n            ? `${month}/${day}/${year}`\n            : `${year}-${month}-${day}`;\n    }\n    return date;\n};\nexport const formatInputValueToValue = (language, date) => {\n    if (isStringValueEmpty(date)) {\n        return date;\n    }\n    const isEnLanguage = language === \"en\";\n    const splitStr = isEnLanguage ? \"/\" : \"-\";\n    const dates = date.split(splitStr);\n    const year = isEnLanguage ? dates[2] : dates[0];\n    const month = isEnLanguage ? dates[0] : dates[1];\n    const day = isEnLanguage ? dates[1] : dates[2];\n    return `${year}-${month}-${day}`;\n};\nexport const isStringValueEmpty = (value) => {\n    return (value === null ||\n        value === undefined ||\n        value.length === 0 ||\n        !/[^(^\\s*)|(\\s*$)]/.test(value));\n};\nexport const getTodayStringByLocale = (language = \"ja\") => {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = padStart(today.getMonth() + 1);\n    const day = padStart(today.getDate());\n    return language === \"ja\" || language === \"zh\"\n        ? year + \"-\" + month + \"-\" + day\n        : month + \"/\" + day + \"/\" + year;\n};\nexport const isValidDateFormat = (language, dateString) => {\n    if (dateString && !isStringValueEmpty(dateString)) {\n        const isEnLanguage = language === \"en\";\n        const splitStr = isEnLanguage ? \"/\" : \"-\";\n        const dateObj = new Date(dateString);\n        const notExistedDate = dateObj.getDate() !==\n            parseInt(dateString.split(splitStr)[isEnLanguage ? 1 : 2], 10);\n        if (notExistedDate)\n            return false;\n        const enRegex = /^(0[1-9]|1[0-2])\\/(0[1-9]|[12][0-9]|3[01])\\/(\\d{4})$/;\n        if (language === \"en\") {\n            return dateString.match(enRegex) !== null;\n        }\n        const jaRegex = /^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/g;\n        return dateString.match(jaRegex) !== null;\n    }\n    return false;\n};\nexport const padStart = (filterString, maxLength = 2) => {\n    const s = `0000000000${filterString}`;\n    return s.substr(s.length - maxLength);\n};\nconst getDateRanges = (year, month) => {\n    const startDayOfMonth = new Date(year, month);\n    startDayOfMonth.setDate(1);\n    const startDayOfFirstWeek = new Date(startDayOfMonth);\n    startDayOfFirstWeek.setDate(startDayOfFirstWeek.getDate() - startDayOfFirstWeek.getDay());\n    const endDayOfMonth = new Date(year, month);\n    endDayOfMonth.setMonth(endDayOfMonth.getMonth() + 1, 0);\n    const endDayOfEndWeek = new Date(endDayOfMonth);\n    endDayOfEndWeek.setDate(endDayOfEndWeek.getDate() + (6 - endDayOfEndWeek.getDay()));\n    const rangeLength = (endDayOfEndWeek.getTime() - startDayOfFirstWeek.getTime()) /\n        (1000 * 60 * 60 * 24);\n    endDayOfEndWeek.setDate(endDayOfEndWeek.getDate() + (42 - rangeLength));\n    return {\n        start: startDayOfFirstWeek,\n        end: endDayOfEndWeek,\n    };\n};\nexport const getLocale = (language) => {\n    switch (language) {\n        case \"en\":\n            return en;\n        case \"zh\":\n            return zh;\n        case \"ja\":\n            return ja;\n        case \"zh-TW\":\n            return zh_TW;\n        default:\n            return en;\n    }\n};\nexport const generateMinuteOptions = (timeStep = 1) => {\n    const minuteOptions = [];\n    for (let i = 0; i <= 59; i += timeStep) {\n        minuteOptions.push({ value: padStart(i), label: padStart(i) });\n    }\n    return minuteOptions;\n};\nexport const generateHourOptions = (hour12 = false) => {\n    if (hour12) {\n        const hourOptions = generateHour12Options(\"AM\").concat(generateHour12Options(\"PM\"));\n        return hourOptions;\n    }\n    return generateHour24Options();\n};\nexport const generateHour12Options = (ampm) => {\n    const hour12Options = [];\n    hour12Options.push({ value: `${ampm} 12`, label: `${ampm} 12` });\n    for (let i = 1; i <= 11; i++) {\n        hour12Options.push({\n            value: `${ampm} ${padStart(i)}`,\n            label: `${ampm} ${padStart(i)}`,\n        });\n    }\n    return hour12Options;\n};\nexport const generateHour24Options = () => {\n    const hour12Options = [];\n    hour12Options.push({ value: \"00\", label: `00` });\n    for (let i = 1; i <= 23; i++) {\n        hour12Options.push({ value: padStart(i), label: `${padStart(i)}` });\n    }\n    return hour12Options;\n};\nexport const getToggleIconSvgTemplate = () => {\n    return svg `\n    <svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 0.5V1.2764L6 7.5L12 1.2764V0.5L6 6.5L0 0.5Z\" fill=\"#888888\"/>\n    </svg>\n    `;\n};\nexport const getLeftArrowIconSvgTemplate = () => {\n    return svg `\n    <svg\n      class=\"kuc-base-datetime-calendar-header__group__button-icon\"\n      width=\"9\"\n      height=\"14\"\n      viewBox=\"0 0 9 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M3.06077 7L8.53044 1.53033L7.46978 0.469666L0.939453 7L7.46978 13.5303L8.53044 12.4697L3.06077 7Z\"\n        fill=\"#888888\"\n      />\n    </svg>`;\n};\nexport function setListBoxPosition(_this, position) {\n    const ulEl = _this.querySelector(\".kuc-base-datetime-listbox__listbox\");\n    const distance = calculateDistanceInput(_this);\n    if (!_this.parentElement || !ulEl || !distance)\n        return;\n    const { inputToBottom, inputToTop } = distance;\n    const listBoxMonthHeight = 360;\n    const listBoxYearHeight = 300;\n    const listBoxHeight = _this.tagName === \"KUC-BASE-DATETIME-HEADER-MONTH\"\n        ? listBoxMonthHeight\n        : listBoxYearHeight;\n    const paddingListBox = 18;\n    const parentHeight = _this.parentElement.getBoundingClientRect().height;\n    ulEl.style.maxHeight = listBoxHeight + \"px\";\n    _this.parentElement.style.position = \"relative\";\n    if (inputToBottom >= listBoxHeight) {\n        ulEl.style.height = listBoxHeight + \"px\";\n        if (position === \"bottom\") {\n            ulEl.style.top = parentHeight + \"px\";\n            return;\n        }\n        ulEl.style.bottom = parentHeight + \"px\";\n        return;\n    }\n    if (position === \"bottom\") {\n        ulEl.style.top = parentHeight + \"px\";\n        ulEl.style.height = inputToBottom - paddingListBox + \"px\";\n        return;\n    }\n    ulEl.style.height = inputToTop - paddingListBox + \"px\";\n    ulEl.style.top = \"auto\";\n    ulEl.style.bottom = _this.parentElement.getBoundingClientRect().height + \"px\";\n}\nexport const calculateDistanceInput = (_this) => {\n    if (!_this.parentElement)\n        return {\n            inputToBottom: 0,\n            inputToTop: 0,\n            inputToRight: 0,\n            inputToLeft: 0,\n        };\n    const inputDateWidth = 100;\n    const inputToBottom = window.innerHeight - _this.parentElement.getBoundingClientRect().bottom;\n    const inputToTop = _this.parentElement.getBoundingClientRect().top;\n    const inputToRight = window.innerWidth - _this.parentElement.getBoundingClientRect().left;\n    const inputToLeft = _this.parentElement.getBoundingClientRect().left + inputDateWidth;\n    return {\n        inputToBottom,\n        inputToTop,\n        inputToRight,\n        inputToLeft,\n    };\n};\nexport const getRightArrowIconSvgTemplate = () => {\n    return svg `\n    <svg\n      class=\"kuc-base-datetime-calendar-header__group__button-icon\"\n      width=\"9\"\n      height=\"14\"\n      viewBox=\"0 0 9 14\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M5.93923 7L0.469557 1.53033L1.53022 0.469666L8.06055 7L1.53022 13.5303L0.469557 12.4697L5.93923 7Z\"\n        fill=\"#888888\"\n      />\n    </svg>`;\n};\n","import { unsafeHTML } from \"lit/directives/unsafe-html.js\";\nimport { padStart } from \"./datetime/utils\";\nexport const visiblePropConverter = {\n    fromAttribute(value) {\n        return value === null;\n    },\n    toAttribute(value) {\n        return value ? null : \"\";\n    },\n};\nexport const languagePropConverter = {\n    fromAttribute: (value) => {\n        const langs = [\"en\", \"ja\", \"zh\", \"zh-TW\"];\n        return !value || langs.indexOf(value) === -1;\n    },\n    toAttribute: (value) => {\n        const langs = [\"en\", \"ja\", \"zh\", \"zh-TW\"];\n        if (langs.indexOf(value) !== -1)\n            return value;\n        if (langs.indexOf(document.documentElement.lang) !== -1) {\n            return document.documentElement.lang;\n        }\n        return \"en\";\n    },\n};\nexport const unsafeHTMLConverter = (element) => {\n    return element instanceof HTMLElement ? element : unsafeHTML(element);\n};\nexport const dateValueConverter = (date) => {\n    if (date === undefined || date === \"\")\n        return \"\";\n    let dateParts = [];\n    if (date.indexOf(\"-\") > 0)\n        dateParts = date.split(\"-\");\n    if (dateParts.length < 2)\n        return `${date}-01-01`;\n    if (dateParts.length === 2)\n        return `${padStart(dateParts[0], 4)}-${padStart(dateParts[1])}-01`;\n    if (dateParts.length > 2)\n        return `${padStart(dateParts[0], 4)}-${padStart(dateParts[1])}-${padStart(dateParts[2])}`;\n    return \"\";\n};\nexport const timeValueConverter = (time) => {\n    const maxLength = 5;\n    if (time.length === maxLength || time === \"\")\n        return time;\n    const indexColon = time.indexOf(\":\");\n    const hours = time.substr(0, indexColon);\n    const minutes = time.substr(indexColon + 1, maxLength);\n    return `${padStart(hours)}:${padStart(minutes)}`;\n};\n","import { LitElement } from \"lit\";\nimport { v4 as uuid } from \"uuid\";\nexport class KucBase extends LitElement {\n    createRenderRoot() {\n        return this;\n    }\n    async throwErrorAfterUpdateComplete(message) {\n        await this.updateComplete;\n        throw new Error(message);\n    }\n}\n/**\n * Common function to dispatch custom event.\n * This is used in all components.\n * @param el        Event target, the type is HTMLElement\n * @param eventName Event name, the type is string\n * @param detail    The detail property of event, the type declaration means any object\n */\nexport const dispatchCustomEvent = (el, eventName, detail) => {\n    const event = new CustomEvent(eventName, {\n        detail,\n        bubbles: true,\n        composed: true,\n    });\n    return el.dispatchEvent(event);\n};\nexport const createStyleOnHeader = (styleText) => {\n    const styleTag = document.createElement(\"style\");\n    styleTag.appendChild(document.createTextNode(styleText));\n    document.head.appendChild(styleTag);\n};\nexport const generateGUID = () => uuid();\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { html } from \"lit\";\nimport { property } from \"lit/decorators.js\";\nimport { visiblePropConverter } from \"../base/converter\";\nimport { createStyleOnHeader, dispatchCustomEvent, KucBase, } from \"../base/kuc-base\";\nimport { validateProps } from \"../base/validator\";\nimport { BUTTON_CSS } from \"./style\";\nlet exportButton;\n(() => {\n    exportButton = window.customElements.get(\"kuc-button-1-10-0\");\n    if (exportButton) {\n        return;\n    }\n    class KucButton extends KucBase {\n        constructor(props) {\n            super();\n            this.className = \"\";\n            this.id = \"\";\n            this.text = \"\";\n            this.type = \"normal\";\n            this.disabled = false;\n            this.visible = true;\n            const validProps = validateProps(props);\n            Object.assign(this, validProps);\n        }\n        _handleClickButton(event) {\n            event.stopPropagation();\n            dispatchCustomEvent(this, \"click\");\n        }\n        _getButtonColorType() {\n            if (this.type === \"normal\" ||\n                this.type === \"submit\" ||\n                this.type === \"alert\") {\n                return this.type;\n            }\n            return \"normal\";\n        }\n        render() {\n            return html `\n        <button\n          type=\"button\"\n          class=\"kuc-button-1-10-0__button kuc-button-1-10-0__button--${this._getButtonColorType()}\"\n          ?disabled=\"${this.disabled}\"\n          @click=\"${this._handleClickButton}\"\n        >\n          ${this.text}\n        </button>\n      `;\n        }\n    }\n    __decorate([\n        property({ type: String, reflect: true, attribute: \"class\" })\n    ], KucButton.prototype, \"className\", void 0);\n    __decorate([\n        property({ type: String, reflect: true, attribute: \"id\" })\n    ], KucButton.prototype, \"id\", void 0);\n    __decorate([\n        property({ type: String })\n    ], KucButton.prototype, \"text\", void 0);\n    __decorate([\n        property({ type: String })\n    ], KucButton.prototype, \"type\", void 0);\n    __decorate([\n        property({ type: Boolean })\n    ], KucButton.prototype, \"disabled\", void 0);\n    __decorate([\n        property({\n            type: Boolean,\n            attribute: \"hidden\",\n            reflect: true,\n            converter: visiblePropConverter,\n        })\n    ], KucButton.prototype, \"visible\", void 0);\n    window.customElements.define(\"kuc-button-1-10-0\", KucButton);\n    createStyleOnHeader(BUTTON_CSS);\n    exportButton = KucButton;\n})();\nconst Button = exportButton;\nexport { Button };\n","import { convertTimeValueToMinutes } from \"./datetime/utils\";\nexport function validateProps(props) {\n    if (!props || typeof props !== \"object\")\n        return {};\n    const validProps = { ...props };\n    for (const _propName in validProps) {\n        if (Object.prototype.hasOwnProperty.call(validProps, _propName) &&\n            validProps[_propName] === undefined) {\n            delete validProps[_propName];\n        }\n    }\n    return validProps;\n}\nexport function validateDateValue(value) {\n    const regex = /(^(\\d{1,4})-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01])$)|(^(\\d{1,4})$)|(^(\\d{1,4})-(0?[1-9]|1[0-2])$)/g;\n    if (value === \"\" || value === undefined || regex.test(value))\n        return true;\n    return false;\n}\nexport function validateTimeValue(value) {\n    const regexHour24 = /^(2[0-3]|[01]?[0-9]):([0-9]|[0-5][0-9])$/;\n    if (value === \"\" || regexHour24.test(value))\n        return true;\n    return false;\n}\nexport function validateTimeStep(timeStep, max, min) {\n    const _tempTimeStep = Math.round(timeStep);\n    const maxMinutes = convertTimeValueToMinutes(max);\n    const minMinutes = convertTimeValueToMinutes(min);\n    return (!isNaN(_tempTimeStep) &&\n        _tempTimeStep > 0 &&\n        _tempTimeStep <= maxMinutes - minMinutes);\n}\nexport function isValidDate(date) {\n    const [year, month, day] = date.split(\"-\");\n    const dateObj = new Date(date);\n    const newYear = dateObj.getFullYear();\n    const newMonth = dateObj.getMonth();\n    const newDay = dateObj.getDate();\n    if (newYear === Number(year) &&\n        newMonth === Number(month) - 1 &&\n        newDay === Number(day))\n        return true;\n    return false;\n}\nexport function validateValueString(value) {\n    if (typeof value !== \"string\") {\n        return false;\n    }\n    return true;\n}\nexport function validateDateTimeValue(date, time) {\n    const regexDate = /(^(\\d{4})-(0[0-9]|1[0-2])-(0[1-9]|([12][0-9]|3[01]))$)|(^(\\d{4})$)|(^(\\d{4})-(0[0-9]|1[0-2])$)/g;\n    const regexTime = /(^([01][0-9]|2[0-3])$)|(^([01][0-9]|2[0-3]):([0-5][0-9]))$|(^([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9])$/;\n    if (!regexDate.test(date) || !regexTime.test(time))\n        return false;\n    return true;\n}\nexport function validateDuplicatedValues(values) {\n    if (values.length < 2)\n        return true;\n    return !values.some((x) => values.indexOf(x) !== values.lastIndexOf(x));\n}\nexport function validateRowsPerPage(numRows) {\n    if (numRows < 0.5 || !validateNumberType(numRows)) {\n        return false;\n    }\n    return true;\n}\nexport const validateFieldRequiredInColumnTable = (columns) => {\n    for (let i = 0; i < columns.length; i++) {\n        if (!Object.prototype.hasOwnProperty.call(columns[i], \"field\"))\n            return false;\n    }\n    return true;\n};\nexport const validateFieldUniqueInColumnTable = (columns) => {\n    const valueArr = columns.map((item) => item.field);\n    const isDuplicate = valueArr.some(function (item, idx) {\n        return valueArr.indexOf(item) !== idx;\n    });\n    return isDuplicate;\n};\nexport function validatePositiveInteger(data) {\n    const reg = /^[1-9]\\d*$/;\n    return reg.test(data);\n}\nexport function validateNumberType(value) {\n    return typeof value === \"number\" && !Number.isNaN(value);\n}\nexport function validateArrayType(value) {\n    return Array.isArray(value);\n}\n","export const BUTTON_CSS = `\n  kuc-button-1-10-0,\n  kuc-button-1-10-0 *,\n  kuc-button-1-10-0:lang(en),\n  kuc-button-1-10-0:lang(en) * {\n    font-family: \"HelveticaNeueW02-45Ligh\", Arial, \"Hiragino Kaku Gothic ProN\",\n      Meiryo, sans-serif;\n  }\n  kuc-button-1-10-0:lang(ja),\n  kuc-button-1-10-0:lang(ja) * {\n    font-family: \"メイリオ\", \"Hiragino Kaku Gothic ProN\", Meiryo, sans-serif;\n  }\n  kuc-button-1-10-0:lang(zh),\n  kuc-button-1-10-0:lang(zh) * {\n    font-family: \"微软雅黑\", \"Microsoft YaHei\", \"新宋体\", NSimSun, STHeiti, Hei,\n      \"Heiti SC\", sans-serif;\n  }\n  kuc-button-1-10-0:lang(zh-TW),\n  kuc-button-1-10-0:lang(zh-TW) * {\n    font-family: \"微軟正黑體\",\"Microsoft JhengHei\",\"新宋体\",NSimSun,STHeiti,\n      Hei,\"Heiti SC\",sans-serif;\n  }\n  kuc-button-1-10-0 {\n    display: inline-block;\n    vertical-align: top;\n  }\n  kuc-button-1-10-0[hidden] {\n    display: none;\n  }\n  .kuc-button-1-10-0__button {\n    display: grid;\n    align-items: center;\n    font-size: var(--kuc-button-font-size, 16px);\n    width: var(--kuc-button-width, \"auto\");\n    height: var(--kuc-button-height, 48px);\n    min-width: var(--kuc-button-width, 163px);\n    padding: 0px 16px;\n    user-select: none;\n    white-space: nowrap;\n  }\n  .kuc-button-1-10-0__button--normal {\n    background-color: var(--kuc-button-background-color, #f7f9fa);\n    color: var(--kuc-button-text-color, #3498db);\n    border: 1px solid #e3e7e8;\n  }\n  .kuc-button-1-10-0__button--normal:hover,\n  .kuc-button-1-10-0__button--normal:focus-visible,\n  .kuc-button-1-10-0__button--normal:active {\n    cursor: pointer;\n  }\n  .kuc-button-1-10-0__button--normal:hover {\n    background-color: var(--kuc-button-background-hover, #c8d6dd);\n  }\n  .kuc-button-1-10-0__button--normal:focus-visible {\n    background-color: var(--kuc-button-background-focus, #c8d6dd);\n  }\n  .kuc-button-1-10-0__button--normal:active {\n    background-color: var(--kuc-button-background-active, #c8d6dd);\n  }\n  .kuc-button-1-10-0__button--submit {\n    background-color: var(--kuc-button-background-color, #3498db);\n    color: var(--kuc-button-text-color, #ffffff);\n    border: 1px solid #e3e7e8;\n  }\n  .kuc-button-1-10-0__button--submit:hover,\n  .kuc-button-1-10-0__button--submit:focus-visible,\n  .kuc-button-1-10-0__button--submit:active {\n    cursor: pointer;\n  }\n  .kuc-button-1-10-0__button--submit:hover {\n    background-color: var(--kuc-button-background-hover, #1d6fa5);\n  }\n  .kuc-button-1-10-0__button--submit:focus-visible {\n    background-color: var(--kuc-button-background-focus, #1d6fa5);\n  }\n  .kuc-button-1-10-0__button--submit:active {\n    background-color: var(--kuc-button-background-active, #1d6fa5);\n  }\n  .kuc-button-1-10-0__button--alert {\n    background-color: var(--kuc-button-background-color, #e74c3c);\n    color: var(--kuc-button-text-color, #ffffff);\n    border: 1px solid #e3e7e8;\n  }\n  .kuc-button-1-10-0__button--alert:hover,\n  .kuc-button-1-10-0__button--alert:focus-visible,\n  .kuc-button-1-10-0__button--alert:active {\n    cursor: pointer;\n  }\n  .kuc-button-1-10-0__button--alert:hover {\n    background-color: var(--kuc-button-background-hover, #bf2718);\n  }\n  .kuc-button-1-10-0__button--alert:focus-visible {\n    background-color: var(--kuc-button-background-focus, #bf2718);\n  }\n  .kuc-button-1-10-0__button--alert:active {\n    background-color: var(--kuc-button-background-active, #bf2718);\n  }\n  .kuc-button-1-10-0__button:disabled {\n    background-color: var(--kuc-button-background-color, #d4d7d7);\n    border: 1px solid #e3e7e8;\n    color: var(--kuc-button-text-color, #888888);\n    cursor: default;\n  }\n  .kuc-button-1-10-0__button--normal:focus-visible,\n  .kuc-button-1-10-0__button--submit:focus-visible,\n  .kuc-button-1-10-0__button--alert:focus-visible {\n    outline: 1px solid #3498db;\n  }\n`;\n","// import { Utils } from \"commonutils\"\r\nimport { Button } from 'kintone-ui-component/lib/button'\r\nimport { Utils} from 'kintoneplugin-commonutils'\r\n\r\nexport class ConfigMigrator {\r\n    LABEL_ITEM = '📁 プラグイン設定を保存・復元します'\r\n    LABEL_IMPORT_BUTTON = '⬆️設定をアップロード（復元）'\r\n    LABEL_EXPORT_BUTTON = '⬇️設定をダウンロード（保存）'\r\n    HEADER_NODE_ID = \"KINTANLAB-SETTING-IMPORTER\"\r\n    ID_SUBMIT_BUTTON = 'button-load-settings'\r\n    DOWNLOAD_FILENAME = 'settings.json'\r\n\r\n    /** @type {Record<string, string>} */\r\n    store_config = {}\r\n\r\n\r\n    /**\r\n     * kintoneのプラグインIDを指定して初期化します。\r\n     * 設定保存時のキーも指定できますが将来の変更に備えてのものなので、通常はデフォルトの'config'を使用してください。\r\n     * @param {string} plugin_id プラグインID\r\n     */\r\n    constructor(plugin_id) {\r\n        this.plugin_id = plugin_id\r\n    }\r\n\r\n    /**\r\n     * インポート・エクスポートフォームを配置します。\r\n     * put_forms関数はプラグインIDを使用してエクスポートフォームを作成し、インポートフォームも作成します。\r\n     * 要素を構築するUtils.buildElementを使用し、ヘッダーにラベルと要素を追加します。\r\n     * @param {string} node_id フォームを配置したいHTML要素のIDを指定してください。\r\n     * @returns \r\n     */\r\n    put_forms(node_id) {\r\n        if(node_id == undefined){\r\n            node_id = this.HEADER_NODE_ID\r\n        }\r\n        const form_export = this.compose_export_form(this.plugin_id)\r\n        const form_import = this.compose_import_form()\r\n\r\n        const forms = Utils.buildElement({\r\n            tagName: 'div'\r\n            , className: 'container_import_export'\r\n            , childElements: [\r\n                form_export\r\n                , form_import\r\n            ]\r\n        })\r\n\r\n        const label = Utils.buildElement({\r\n            tagName: 'div'\r\n            , textContent: this.LABEL_ITEM\r\n        })\r\n        const header = Utils.ce('div', '', [label])\r\n\r\n        const node_header = document.getElementById(node_id)\r\n        if (node_header == null) {\r\n            return\r\n        }\r\n        node_header.appendChild(\r\n            Utils.ce('div', 'mt-3 mb-3', [\r\n                header\r\n                , forms\r\n            ])\r\n        )\r\n\r\n    }\r\n\r\n    /**\r\n     * インポートボタンを持つdiv要素を作成して返します。\r\n     * \r\n     * @return {HTMLDivElement} インポートボタンを持つdiv要素\r\n     */\r\n    compose_import_form  () {\r\n        const button_import = this.make_button_import()\r\n\r\n        return Utils.buildElement({\r\n            tagName: 'div'\r\n            , className: 'import_form_block'\r\n            , childElements: [\r\n                button_import\r\n            ]\r\n            , attrs: {\r\n                'style': 'margin-top: 1em;'\r\n            }\r\n        })\r\n    }\r\n\r\n    /**\r\n     * インポートボタンを作成して返します。\r\n     * \r\n     * @return {HTMLInputElement} インポートボタンDIV要素\r\n     */\r\n    make_button_import() {\r\n        const btn_import = new Button({\r\n            'text': this.LABEL_IMPORT_BUTTON\r\n            , 'type': 'submit'\r\n            , 'id': this.ID_SUBMIT_BUTTON\r\n        })\r\n\r\n        const file_input = Utils.buildElement({\r\n            tagName: 'input'\r\n            , attrs: {\r\n                type: 'file'\r\n                , id: 'fileInput'\r\n                , value: this.LABEL_IMPORT_BUTTON\r\n            }\r\n        })\r\n\r\n\r\n        // インポートボタンのclickイベント\r\n        // eslint-disable-next-line no-unused-vars\r\n        btn_import.addEventListener('click', (_event) => {\r\n            file_input.click();\r\n        })\r\n\r\n        // ファイル選択フォームのchange（ファイル選択）イベント\r\n        file_input.addEventListener('change', (event) => {\r\n            this.importSettings(event)\r\n        })\r\n\r\n        return btn_import\r\n    }\r\n\r\n    /**\r\n   * ファイル選択イベントを受け取って、ファイル読み込みとJSONデータをプラグイン設定として保存する処理を行う\r\n   * @param {Event} event - イベントオブジェクト\r\n   */\r\n    importSettings(event) {\r\n        if (event == null || event.target == null) {\r\n            return\r\n        }\r\n        // @ts-ignore\r\n        const file = event.target.files[0];\r\n        if (!file) {\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n\r\n        reader.onload = (event) => {\r\n            try {\r\n                if (event.target == null) {\r\n                    throw new Error('event.targetにnullが返りました。')\r\n                }\r\n                if (typeof event.target.result != 'string') {\r\n                    throw new Error('event.target.result が文字列型ではありませんでした。')\r\n                }\r\n                const jsonData = JSON.parse(event.target.result);\r\n                this.store_config = jsonData\r\n                // 最終確認ダイアログと読み込みの実行\r\n                const msg = '現在の設定を上書きして、読み込んだ設定を保存します。よろしいですか？'\r\n                if (confirm(msg)) {\r\n                    kintone.plugin.app.setConfig(this.store_config, function () {\r\n                        alert('🆙 プラグイン設定を保存しました。アプリの更新をお忘れなく！');\r\n                        window.location.href = '../../flow?app=' + kintone.app.getId();\r\n                    });\r\n                }\r\n\r\n\r\n            } catch (error) {\r\n                console.error('ファイルの読み込みに失敗しました:', error);\r\n            }\r\n        };\r\n\r\n        reader.readAsText(file);\r\n    }\r\n\r\n    /**\r\n   * 指定されたプラグインのIDを持つエクスポートリンクを生成し、ヘッダノードに追加します\r\n   * \r\n   * @param {string} [plugin_id] プラグインのID。省略時は this.plugin_id が使用される\r\n   * @throws {Error} ヘッダノードが見つからない場合\r\n   */\r\n    put_export_link(plugin_id) {\r\n        if (plugin_id == undefined) {\r\n            plugin_id = this.plugin_id\r\n        }\r\n\r\n        // 設定のロード\r\n        const btn_link = this.compose_export_form(plugin_id)\r\n        const node_header = document.getElementById(this.HEADER_NODE_ID)\r\n        if (node_header == null) {\r\n            throw new Error(`ノード #${this.HEADER_NODE_ID} が見つかりませんでした。`)\r\n        }\r\n        node_header.appendChild(btn_link)\r\n    }\r\n\r\n    /**\r\n   * plugin_idを受け取り、設定情報をJSON形式でダウンロードするボタンを生成します。\r\n   * @param {String} plugin_id プラグインID\r\n   * @return {HTMLDivElement} 生成されたHTML要素\r\n   */\r\n    compose_export_form(plugin_id) {\r\n        const CONF = kintone.plugin.app.getConfig(plugin_id);\r\n        const serialized = JSON.stringify(CONF)\r\n        const btn_link = this.make_download_button(serialized, this.DOWNLOAD_FILENAME)\r\n        const form = Utils.ce('div', 'export_button_block', [btn_link], '', {\r\n            'style': 'float: left; margin-right: 1em;'\r\n        })\r\n        return form\r\n    }\r\n\r\n    /**\r\n   * ダウンロードボタンを構築します。\r\n   * \r\n   * @param {Uint8Array} data - データ\r\n   * @param {string} filename - ファイル名 (デフォルト: settings.txt)\r\n   * @returns {HTMLDivElement} 構築したブロック要素\r\n   */\r\n    make_download_button(data, filename = 'settings.txt') {\r\n        const bom = new Uint8Array([0xEF, 0xBB, 0xBF]); // add BOM\r\n        const blob = new Blob([bom, data], { type: \"octet/stream\" })\r\n\r\n        const anchor = Utils.buildElement({\r\n            tagName: 'a'\r\n            , attrs: {\r\n                href: window.URL.createObjectURL(blob)\r\n                , download: filename\r\n                , role: 'button'\r\n            }\r\n        })\r\n\r\n        // エクスポートボタン\r\n        const button = new Button({\r\n            'text': this.LABEL_EXPORT_BUTTON\r\n            , 'type': 'normal'\r\n        })\r\n\r\n        // クリックイベント\r\n        // eslint-disable-next-line no-unused-vars\r\n        button.addEventListener('click', (_event) => {\r\n            anchor.click();\r\n        })\r\n\r\n        const block = Utils.ce('div', '', [button])\r\n        return block\r\n    }\r\n\r\n}\r\n","import { ConfigManager } from \"plugin-parameters-helper\";\nimport { Settings } from \"./settings\";\nimport { ConfigMigrator } from \"kintoneplugin-config-migrator\";\n\n(function (PLUGIN_ID: string | undefined) {\n    'use strict';\n    console.info('run config main')\n\n    if (PLUGIN_ID == undefined) {\n        throw new Error('PLUGIN_ID == undefined で呼び出されました。')\n    }\n\n    const setting_prefs = Settings.preference\n    const setting_input = Settings.input\n    const manager = new ConfigManager(PLUGIN_ID, setting_input, setting_prefs)\n    manager.build()\n\n    const migrator = new ConfigMigrator(PLUGIN_ID)\n    migrator.put_forms('config_body')\n\n})(kintone.$PLUGIN_ID);\n"],"names":["module","exports","Object","defineProperty","value","isSecretItem","FieldType","item","ConfigBuilder","require","commonutils_1","config_utilities_1","common_1","field_builder_1","incremental_table_builder_1","constructor","props","config","undefined","this","field_builder","FieldBuilder","static","type","LAYOUT_PARTS","includes","types","reduce","prev","curr","is_layout_info","build_incremental_table","input_field","saved_rows","table_rows","IncrementalTableBuilder","build","elements_th","table_cols","map","column","el_span","Utils","createElement","textContent","header","push","tr","thead","tbody","code","target","self","parent_td","parentNode","accept_types","lists","key","hasOwnProperty","prop","label","sorted","keys","k","sort","a","b","toString","toLowerCase","assign","select_set","select","addEventListener","event","selected","selectedIndex","option","getAttribute","ancestor","closest","inputs","getElementsByTagName","build_fields_dropdown","accepts","selected_fieldcode","selected_node_id","empty_label","show_fc","field_dropdown","id","empty_item","appendChild","parts","get_formparts","compose_fielditems","forEach","async","app_id","selected_label","ConfigUtilities","DEFAULT_OPTION","empty_dropdown","resp_fields","kintone","api","app","parseInt","properties","main_node","title","comment","block_class","flg_required","flg_secret","comment_node","buildElement","tagName","className","innerHTML","caption_node","badge","childElements","parent_dropdown","parent_fieldcode","appid","then","single_line_items","filter","field","dd_item","setAttribute","td_fieldcode","make_fieldcode_cell","firstChild","remove","fieldcode","node_input","node_dropdown","node_radio","event_type","callback_object","querySelectorAll","input","make_string_block","Error","saved_value","get_saved_value","el_str","ce","required","secret","make_parts_block","desc","whole_config","proxy_config","plugin","getProxyConfig","URL","method","data","header_value","headers","startsWith","split","default","make_multiline_block","cols","rows","make_checkbox_block","accept","list_checkbox","box_value","checkbox_id","attr_checkbox","make_radio_block","saved_string","el_options","name","el_radio","el_label","make_dropdown_fieldselect_block","form_types","layout_types","length","layout","verbose","make_incremental_table_block","el_table","make_subtitle_block","heading","layout_infos","getId","spacers","row_prev","row_curr","row_spacers","fields","row_field","concat","elementId","ConfigManager","config_builder_1","PLUGIN_ID","setting_input","settings_preference","CONF","getConfig","set_config","set_preference","prefs","node_title","document","getElementById","node_description","description","node_settings","make_setting_fields","resp","btn_submit","make_button_submit","btn_cancel","make_button_cancel","form_node","node","top","buttons","_resp","call_target_event","catch","err","event_name","funcs","hooks","func","layout_inputs","builder","make_paragraph","Text","MultilineText","Radio","Number","Checkbox","IncrementalTable","Label","Separator","Dropdown_FieldSelect","serialized","get_from","KEY_CONFIG","JSON","parse","get_config","load_layout_info","secret_parameters","config_tinker","secrets","make_proxy_params","items","result_params","params","get_text_and_validate_value","get_text_value","param","store_parameters","store","get_selected","msg","isComposing","preventDefault","this_form","error","alert","proxy_params","setProxyConfig","setTimeout","stringify","setConfig","window","location","href","add_hook","config_form","whole_selected_field_codes","select_node_id","options","selectedOptions","target_boxes","Array","from","checked","is_overlapped","additional_labels","overlapped","clear_selected_field_labels","get_selected_radio","radio_id","radio_name","nodes","getElementsByName","idx","field_id","get_multilinetext_value","get_number_value","get_incremental_table_values","node_table","abstruct_from_incremental_table","whole_headers","row","nodeName","cells","cell","innerText","values","input_element","getElementsByClassName","selected_element","checkbox_element","multiline_element","index","attributes","checkbox_items","childNodes","isArray","content","node_id","field_type","Dropdown","get_selected_label","get_checked_boxes","get_selected_fieldcode","preset","table_id","row_count","node_checkbox","build_table_cell","build_checkbox_cell","build_dropdown_cell","build_dropdown_fieldselect_cell","build_textcell","build_multilinetext_cell","table_conf","rows_count","spacer_count","build_table_row","opt","row_number","saved_data","spacer_cols","built_row","node_button_add","create_button_row_add","node_button_remove","create_button_row_remove","tds","get_table_rows_count","table_node","grand_tr","get_grand_tr","ancestor_tbody","children","add_elem","insertBefore","nextElementSibling","removeChild","__createBinding","create","o","m","k2","enumerable","get","__exportStar","p","prototype","call","ButtonInstaller","utils_1","class_hms_button","canvas","classname","create_button","icon_label","tooltip","icon","style","color","button","decorate_menu_icon","fontSize","add_button","install","already_installed","put_buttons","set_canvas","get_hms","hms","getHeaderMenuSpaceElement","btn","append","get_header_element","index_text","PluginCanvas","id_island","id_offcanvas","title_offcanvas","island","enable_offcanvas","default_element","icon_element","already","icon_balloon","baloon","cursor","init_offcanvas","headerSpace","get_node","build_node_offcanvas","offcanvas","deal_dismiss_attribute","dismissElements","CLASS_DISMISS","element","with_record_number","results","unique","test_str","is_empty_string","dic","conf_key","defaults","tag","cl","tc","ih","at","attrs","el","child","entries","t","c","height","backgroundColor","border","display","marginLeft","marginRight","verticalAlign","list","x","_i","indexOf","lastIndexOf","Set","protocol","host","max_msgs","errors","whole_errors","comments","messages","remain_msgs","splice","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","CONSTANTS","PLUGIN_NAME","EMPTY_LABEL","API_KEY","MODEL_ID","STATIC_PROMPT","UNIQUE_PROMPT","INPUT_FIELD","OUTPUT_FIELD","BTN_SPACE_FIELD","FLAG_RECORD_MODIFIER","LABELS_RECORD_MODIFIER","NUMBER_MAX_TOKENS","SYSTEM_PROMPT","TABLE_FEWSHOTS_PROMPT","TABLE_FEWSHOTS","Settings","role","ShadowRoot","ShadyCSS","nativeShadow","Document","CSSStyleSheet","s","Symbol","n","WeakMap","e","_$cssResult$","cssText","styleSheet","replaceSync","set","cssRules","r","trustedTypes","h","emptyScript","reactiveElementPolyfillSupport","toAttribute","i","Boolean","fromAttribute","l","attribute","String","converter","reflect","hasChanged","d","HTMLElement","super","_$Ei","Map","isUpdatePending","hasUpdated","_$El","u","finalize","observedAttributes","elementProperties","_$Ep","_$Ev","state","noAccessor","getPropertyDescriptor","requestUpdate","configurable","finalized","getPrototypeOf","getOwnPropertyNames","getOwnPropertySymbols","createProperty","elementStyles","finalizeStyles","styles","flat","reverse","unshift","_$E_","Promise","enableUpdating","_$AL","_$Eg","addController","_$ES","renderRoot","isConnected","hostConnected","removeController","createRenderRoot","shadowRoot","attachShadow","shadowRootOptions","adoptedStyleSheets","litNonce","connectedCallback","disconnectedCallback","hostDisconnected","attributeChangedCallback","_$AK","_$EO","removeAttribute","getPropertyOptions","has","_$EC","_$Ej","reject","scheduleUpdate","performUpdate","shouldUpdate","willUpdate","hostUpdate","update","_$Ek","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","mode","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","Math","random","slice","createComment","iterator","v","f","_","RegExp","$","g","_$litType$","strings","y","for","T","A","createTreeWalker","E","lastIndex","exec","test","C","currentNode","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","ctor","M","H","P","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","V","_$AN","_$AD","_$AM","_$AU","creationScope","importNode","N","nextSibling","I","_$AI","_$AH","_$AA","_$AB","_$Cm","startNode","endNode","_$AR","O","createTextNode","_$AC","_$AP","setConnected","fill","j","arguments","R","capture","once","passive","removeEventListener","handleEvent","z","litHtmlPolyfillSupport","litHtmlVersions","renderOptions","_$Do","renderBefore","render","_$litPart$","_$litElement$","globalThis","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","kind","descriptor","finisher","placement","originalKey","initializer","HTMLSlotElement","assignedElements","_$Ct","_$Ci","it","directiveName","_t","raw","resultType","visiblePropConverter","KucBase","message","__decorate","decorators","getOwnPropertyDescriptor","Reflect","decorate","exportButton","customElements","KucButton","text","disabled","visible","validProps","_propName","validateProps","_handleClickButton","stopPropagation","eventName","detail","CustomEvent","bubbles","composed","dispatchEvent","dispatchCustomEvent","_getButtonColorType","define","styleText","styleTag","head","createStyleOnHeader","Button","ConfigMigrator","LABEL_ITEM","LABEL_IMPORT_BUTTON","LABEL_EXPORT_BUTTON","HEADER_NODE_ID","ID_SUBMIT_BUTTON","DOWNLOAD_FILENAME","store_config","plugin_id","put_forms","form_export","compose_export_form","form_import","compose_import_form","forms","node_header","button_import","make_button_import","btn_import","file_input","_event","click","importSettings","file","files","reader","FileReader","onload","result","jsonData","confirm","readAsText","put_export_link","btn_link","make_download_button","filename","bom","Uint8Array","blob","Blob","anchor","createObjectURL","download","setting_prefs","preference","$PLUGIN_ID"],"sourceRoot":""}